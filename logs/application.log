2025-12-31T09:48:24.959+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : Bootstrapping @org.springframework.modulith.test.ApplicationModuleTest for Xxrag in mode STANDALONE (class yuuine.xxrag.XxRagApplication)…
2025-12-31T09:48:24.961+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : 
2025-12-31T09:48:24.964+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : # Xxrag
2025-12-31T09:48:24.964+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : > Logical name: root:yuuine.xxrag
2025-12-31T09:48:24.965+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : > Base package: yuuine.xxrag
2025-12-31T09:48:24.965+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : > Excluded packages: none
2025-12-31T09:48:24.965+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : > Direct module dependencies: none
2025-12-31T09:48:24.965+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : > Spring beans:
2025-12-31T09:48:24.965+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer :   + ….XxRagApplication
2025-12-31T09:48:24.966+08:00  INFO 26428 --- [rag-app] [main] ustomizerFactory$ModuleContextCustomizer : 
2025-12-31T09:48:24.985+08:00  INFO 26428 --- [rag-app] [main] yuuine.xxrag.XxRagApplicationTests       : Starting XxRagApplicationTests using Java 17.0.16 with PID 26428 (started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T09:48:24.987+08:00  INFO 26428 --- [rag-app] [main] yuuine.xxrag.XxRagApplicationTests       : The following 1 profile is active: "app"
2025-12-31T09:48:25.588+08:00  INFO 26428 --- [rag-app] [main] figurationAndEntityScanPackageCustomizer : Re-configuring auto-configuration and entity scan packages to: yuuine.xxrag.
2025-12-31T09:48:26.040+08:00  WARN 26428 --- [rag-app] [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'inferenceClientConfig' available
2025-12-31T09:48:26.064+08:00  INFO 26428 --- [rag-app] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T09:48:26.090+08:00 ERROR 26428 --- [rag-app] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'inferenceClientConfig' that could not be found.


Action:

Consider defining a bean named 'inferenceClientConfig' in your configuration.

2025-12-31T09:48:26.093+08:00  WARN 26428 --- [rag-app] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [yuuine.xxrag.XxRagApplicationTests@31854086]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@109a5573 testClass = yuuine.xxrag.XxRagApplicationTests, locations = [], classes = [yuuine.xxrag.XxRagApplication], contextInitializerClasses = [], activeProfiles = ["app"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@4a17c516 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7876d598, org.springframework.boot.test.context.filter.annotation.TypeExcludeFiltersContextCustomizer@e9fb054, org.springframework.boot.test.http.client.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@497ccf3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5a4e59, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@640890bc, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@e9fb035, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@557ed49a, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@645a9649, org.springframework.boot.test.context.SpringBootTestAnnotation@8b409437], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:195) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.cache.DefaultContextCache.put(DefaultContextCache.java:172) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:160) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:205) ~[spring-test-7.0.2.jar:7.0.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$0(ClassBasedTestDescriptor.java:240) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:239) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:88) ~[junit-jupiter-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:173) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58) ~[junit-platform-engine-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58) ~[junit-platform-launcher-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125) ~[surefire-api-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.4.jar:3.5.4]
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'inferenceClientConfig' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:971) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1369) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getType(AbstractBeanFactory.java:732) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleTestExecutionBeanDefinitionSelector.getTypeOrTestConfigurationFactoryBean(ModuleContextCustomizerFactory.java:311) ~[spring-modulith-test-2.0.1.jar:2.0.1]
	at org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleTestExecutionBeanDefinitionSelector.include(ModuleContextCustomizerFactory.java:268) ~[spring-modulith-test-2.0.1.jar:2.0.1]
	at org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleTestExecutionBeanDefinitionSelector.postProcessBeanDefinitionRegistry(ModuleContextCustomizerFactory.java:246) ~[spring-modulith-test-2.0.1.jar:2.0.1]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:148) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$2(SpringBootContextLoader.java:156) ~[spring-boot-test-4.0.1.jar:4.0.1]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1465) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:605) ~[spring-boot-test-4.0.1.jar:4.0.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:156) ~[spring-boot-test-4.0.1.jar:4.0.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:115) ~[spring-boot-test-4.0.1.jar:4.0.1]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:247) ~[spring-test-7.0.2.jar:7.0.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:167) ~[spring-test-7.0.2.jar:7.0.2]
	... 82 common frames omitted

2025-12-31T10:10:12.235+08:00  INFO 27164 --- [app] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 27164 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T10:10:12.242+08:00  INFO 27164 --- [app] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "app"
2025-12-31T10:10:12.915+08:00  INFO 27164 --- [app] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c215cb9d-9030-3675-9aed-bad8cf811c5a
2025-12-31T10:10:13.231+08:00  INFO 27164 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T10:10:13.243+08:00  INFO 27164 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T10:10:13.243+08:00  INFO 27164 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T10:10:13.287+08:00  INFO 27164 --- [app] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1008 ms
2025-12-31T10:10:13.342+08:00  WARN 27164 --- [app] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\app\appService\impl\AppServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ragIngestServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\app\ragIngestService\impl\RagIngestServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'yuuine.xxrag.app.client.IngestionClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-31T10:10:13.344+08:00  INFO 27164 --- [app] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-31T10:10:13.356+08:00  INFO 27164 --- [app] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T10:10:13.371+08:00 ERROR 27164 --- [app] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in yuuine.xxrag.app.ragIngestService.impl.RagIngestServiceImpl required a bean of type 'yuuine.xxrag.app.client.IngestionClient' that could not be found.


Action:

Consider defining a bean of type 'yuuine.xxrag.app.client.IngestionClient' in your configuration.

2025-12-31T10:11:18.561+08:00  INFO 27816 --- [app] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 27816 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T10:11:18.564+08:00  INFO 27816 --- [app] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "app"
2025-12-31T10:11:19.349+08:00  INFO 27816 --- [app] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f7594eac-1311-334c-a217-0487a938ceec
2025-12-31T10:11:19.730+08:00  INFO 27816 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T10:11:19.742+08:00  INFO 27816 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T10:11:19.743+08:00  INFO 27816 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T10:11:19.800+08:00  INFO 27816 --- [app] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1194 ms
2025-12-31T10:11:20.209+08:00  WARN 27816 --- [app] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\app\appService\impl\AppServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'docServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\app\docService\impl\DocServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'docMapper' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\app\docService\repository\DocMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'
2025-12-31T10:11:20.211+08:00  INFO 27816 --- [app] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-31T10:11:20.223+08:00  INFO 27816 --- [app] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T10:11:20.235+08:00 ERROR 27816 --- [app] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles app are currently active).

2025-12-31T10:16:28.820+08:00  INFO 25752 --- [app] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 25752 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T10:16:28.824+08:00  INFO 25752 --- [app] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "app"
2025-12-31T10:16:29.685+08:00  INFO 25752 --- [app] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f7594eac-1311-334c-a217-0487a938ceec
2025-12-31T10:16:30.043+08:00  INFO 25752 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T10:16:30.057+08:00  INFO 25752 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T10:16:30.057+08:00  INFO 25752 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T10:16:30.108+08:00  INFO 25752 --- [app] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1235 ms
2025-12-31T10:16:32.173+08:00  INFO 25752 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:16:33.534+08:00  INFO 25752 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:16:33.600+08:00  INFO 25752 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2025-12-31T10:16:34.967+08:00  INFO 25752 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:16:36.333+08:00  INFO 25752 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:16:36.338+08:00  INFO 25752 --- [app] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T10:16:36.343+08:00  INFO 25752 --- [app] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 9.431 seconds (process running for 10.146)
2025-12-31T10:22:39.773+08:00  INFO 25752 --- [app] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T10:22:40.596+08:00  INFO 25752 --- [app] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T10:22:45.486+08:00  INFO 15268 --- [app] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 15268 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T10:22:45.489+08:00  INFO 15268 --- [app] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "app"
2025-12-31T10:22:46.166+08:00  INFO 15268 --- [app] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f7594eac-1311-334c-a217-0487a938ceec
2025-12-31T10:22:46.493+08:00  INFO 15268 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T10:22:46.504+08:00  INFO 15268 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T10:22:46.505+08:00  INFO 15268 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T10:22:46.552+08:00  INFO 15268 --- [app] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1026 ms
2025-12-31T10:22:48.620+08:00  INFO 15268 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:22:49.978+08:00  INFO 15268 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:22:50.041+08:00  INFO 15268 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2025-12-31T10:22:51.421+08:00  INFO 15268 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:22:52.779+08:00  INFO 15268 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:22:52.784+08:00  INFO 15268 --- [app] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T10:22:52.788+08:00  INFO 15268 --- [app] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 9.125 seconds (process running for 9.798)
2025-12-31T10:35:30.049+08:00  INFO 15268 --- [app] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T10:35:30.757+08:00  INFO 15268 --- [app] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T10:41:59.013+08:00  INFO 20416 --- [app] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 20416 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T10:41:59.017+08:00  INFO 20416 --- [app] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "app"
2025-12-31T10:42:00.044+08:00  INFO 20416 --- [app] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=bf7359fa-9d5a-3a8d-8213-2d89d8c67382
2025-12-31T10:42:00.398+08:00  INFO 20416 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T10:42:00.411+08:00  INFO 20416 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T10:42:00.411+08:00  INFO 20416 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T10:42:00.461+08:00  INFO 20416 --- [app] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1403 ms
2025-12-31T10:42:02.608+08:00  INFO 20416 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:42:04.010+08:00  INFO 20416 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:42:04.077+08:00  INFO 20416 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T10:42:05.454+08:00  INFO 20416 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:42:06.824+08:00  INFO 20416 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:42:06.829+08:00  INFO 20416 --- [app] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T10:42:06.833+08:00  INFO 20416 --- [app] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 9.677 seconds (process running for 10.863)
2025-12-31T10:43:18.950+08:00  INFO 20416 --- [app] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T10:43:19.668+08:00  INFO 20416 --- [app] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T10:54:48.445+08:00  INFO 28148 --- [app] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 28148 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T10:54:48.447+08:00  INFO 28148 --- [app] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "app"
2025-12-31T10:54:49.609+08:00  INFO 28148 --- [app] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=bf7359fa-9d5a-3a8d-8213-2d89d8c67382
2025-12-31T10:54:49.993+08:00  INFO 28148 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T10:54:50.008+08:00  INFO 28148 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T10:54:50.008+08:00  INFO 28148 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T10:54:50.072+08:00  INFO 28148 --- [app] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1589 ms
2025-12-31T10:54:52.216+08:00  INFO 28148 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:54:53.586+08:00  INFO 28148 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:54:53.655+08:00  INFO 28148 --- [app] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T10:54:55.022+08:00  INFO 28148 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:54:56.383+08:00  INFO 28148 --- [app] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T10:54:56.389+08:00  INFO 28148 --- [app] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T10:54:56.392+08:00  INFO 28148 --- [app] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 9.837 seconds (process running for 10.618)
2025-12-31T10:55:11.474+08:00  INFO 28148 --- [app] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T10:55:12.204+08:00  INFO 28148 --- [app] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T11:04:40.089+08:00  INFO 26188 --- [vector] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 26188 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:04:40.091+08:00  INFO 26188 --- [vector] [main] yuuine.xxrag.XxRagApplication            : The following 4 profiles are active: "app", "inference", "vector", "ingestion"
2025-12-31T11:04:40.680+08:00  WARN 26188 --- [vector] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [yuuine.xxrag.XxRagApplication]
2025-12-31T11:04:40.699+08:00 ERROR 26188 --- [vector] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [yuuine.xxrag.XxRagApplication]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:446) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:310) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:15) ~[classes/:na]
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'globalExceptionHandler' for bean class [yuuine.xxrag.ingestion.exception.GlobalExceptionHandler] conflicts with existing, non-compatible bean definition of same name and class [yuuine.xxrag.app.exception.GlobalExceptionHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:360) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:347) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:283) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-7.0.2.jar:7.0.2]
	... 13 common frames omitted

2025-12-31T11:07:03.997+08:00  INFO 10724 --- [vector] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 10724 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:07:03.999+08:00  INFO 10724 --- [vector] [main] yuuine.xxrag.XxRagApplication            : The following 4 profiles are active: "app", "inference", "vector", "ingestion"
2025-12-31T11:07:04.199+08:00  WARN 10724 --- [vector] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [yuuine.xxrag.XxRagApplication]
2025-12-31T11:07:04.218+08:00 ERROR 10724 --- [vector] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [yuuine.xxrag.XxRagApplication]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:446) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:310) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:14) ~[classes/:na]
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'globalExceptionHandler' for bean class [yuuine.xxrag.ingestion.exception.GlobalExceptionHandler] conflicts with existing, non-compatible bean definition of same name and class [yuuine.xxrag.app.exception.GlobalExceptionHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:360) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:347) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:283) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-7.0.2.jar:7.0.2]
	... 13 common frames omitted

2025-12-31T11:08:05.580+08:00  INFO 25032 --- [vector] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 25032 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:08:05.582+08:00  INFO 25032 --- [vector] [main] yuuine.xxrag.XxRagApplication            : The following 4 profiles are active: "app", "inference", "vector", "ingestion"
2025-12-31T11:08:06.273+08:00  INFO 25032 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:08:06.393+08:00  INFO 25032 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T11:08:06.399+08:00  INFO 25032 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:08:06.458+08:00  INFO 25032 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 1 Elasticsearch repository interface.
2025-12-31T11:08:06.655+08:00  INFO 25032 --- [vector] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3faba2ca-8052-3423-8800-0a930d4ba3a4
2025-12-31T11:08:06.928+08:00  INFO 25032 --- [vector] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8083 (http)
2025-12-31T11:08:06.940+08:00  INFO 25032 --- [vector] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T11:08:06.940+08:00  INFO 25032 --- [vector] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T11:08:06.992+08:00  INFO 25032 --- [vector] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1366 ms
2025-12-31T11:08:07.470+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T11:08:07.472+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T11:08:07.472+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T11:08:07.472+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T11:08:07.472+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T11:08:07.472+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T11:08:07.472+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T11:08:07.473+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T11:08:07.473+08:00  INFO 25032 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T11:08:08.006+08:00  WARN 25032 --- [vector] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'vectorAddService' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\es\service\VectorAddService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ragChunkDocumentRepository' defined in yuuine.xxrag.vector.domain.es.Repository.RagChunkDocumentRepository defined in @EnableElasticsearchRepositories declared on DataElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2025-12-31T11:08:08.010+08:00  INFO 25032 --- [vector] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-31T11:08:08.019+08:00  INFO 25032 --- [vector] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T11:08:08.030+08:00 ERROR 25032 --- [vector] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'vectorAddService' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\es\service\VectorAddService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ragChunkDocumentRepository' defined in yuuine.xxrag.vector.domain.es.Repository.RagChunkDocumentRepository defined in @EnableElasticsearchRepositories declared on DataElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:993) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorAddService' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\es\service\VectorAddService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ragChunkDocumentRepository' defined in yuuine.xxrag.vector.domain.es.Repository.RagChunkDocumentRepository defined in @EnableElasticsearchRepositories declared on DataElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ragChunkDocumentRepository' defined in yuuine.xxrag.vector.domain.es.Repository.RagChunkDocumentRepository defined in @EnableElasticsearchRepositories declared on DataElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 35 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:623) ~[spring-data-commons-4.0.1.jar:4.0.1]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:600) ~[spring-data-commons-4.0.1.jar:4.0.1]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:81) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:359) ~[spring-data-commons-4.0.1.jar:4.0.1]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$1(RepositoryFactoryBeanSupport.java:361) ~[spring-data-commons-4.0.1.jar:4.0.1]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:136) ~[spring-data-commons-4.0.1.jar:4.0.1]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-4.0.1.jar:4.0.1]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:370) ~[spring-data-commons-4.0.1.jar:4.0.1]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813) ~[spring-beans-7.0.2.jar:7.0.2]
	... 46 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: Connect to http://localhost:9200 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:116) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:70) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doExists(IndicesTemplate.java:180) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.exists(IndicesTemplate.java:172) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:92) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:86) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-7.0.2.jar:7.0.2]
	... 57 common frames omitted
Caused by: java.lang.RuntimeException: Connect to http://localhost:9200 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:69) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	... 68 common frames omitted
Caused by: java.net.ConnectException: Connect to http://localhost:9200 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at co.elastic.clients.transport.rest5_client.low_level.Rest5Client.extractAndWrapCause(Rest5Client.java:945) ~[elasticsearch-rest5-client-9.2.2.jar:na]
	at co.elastic.clients.transport.rest5_client.low_level.Rest5Client.performRequest(Rest5Client.java:308) ~[elasticsearch-rest5-client-9.2.2.jar:na]
	at co.elastic.clients.transport.rest5_client.low_level.Rest5Client.performRequest(Rest5Client.java:293) ~[elasticsearch-rest5-client-9.2.2.jar:na]
	at co.elastic.clients.transport.rest5_client.Rest5ClientHttpClient.performRequest(Rest5ClientHttpClient.java:93) ~[elasticsearch-java-9.2.2.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:151) ~[elasticsearch-java-9.2.2.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.exists(ElasticsearchIndicesClient.java:1213) ~[elasticsearch-java-9.2.2.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doExists$0(IndicesTemplate.java:180) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-6.0.1.jar:6.0.1]
	... 67 common frames omitted
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9200 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at org.apache.hc.core5.reactor.InternalConnectChannel.onIOEvent(InternalConnectChannel.java:70) ~[httpcore5-5.3.6.jar:5.3.6]
	at org.apache.hc.core5.reactor.InternalChannel.handleIOEvent(InternalChannel.java:51) ~[httpcore5-5.3.6.jar:5.3.6]
	at org.apache.hc.core5.reactor.SingleCoreIOReactor.processEvents(SingleCoreIOReactor.java:176) ~[httpcore5-5.3.6.jar:5.3.6]
	at org.apache.hc.core5.reactor.SingleCoreIOReactor.doExecute(SingleCoreIOReactor.java:125) ~[httpcore5-5.3.6.jar:5.3.6]
	at org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor.execute(AbstractSingleCoreIOReactor.java:92) ~[httpcore5-5.3.6.jar:5.3.6]
	at org.apache.hc.core5.reactor.IOReactorWorker.run(IOReactorWorker.java:44) ~[httpcore5-5.3.6.jar:5.3.6]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T11:09:20.781+08:00  INFO 11840 --- [vector] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 11840 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:09:20.784+08:00  INFO 11840 --- [vector] [main] yuuine.xxrag.XxRagApplication            : The following 4 profiles are active: "app", "inference", "vector", "ingestion"
2025-12-31T11:09:21.467+08:00  INFO 11840 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:09:21.585+08:00  INFO 11840 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T11:09:21.590+08:00  INFO 11840 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:09:21.647+08:00  INFO 11840 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 1 Elasticsearch repository interface.
2025-12-31T11:09:21.863+08:00  INFO 11840 --- [vector] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3faba2ca-8052-3423-8800-0a930d4ba3a4
2025-12-31T11:09:22.155+08:00  INFO 11840 --- [vector] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8083 (http)
2025-12-31T11:09:22.168+08:00  INFO 11840 --- [vector] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T11:09:22.169+08:00  INFO 11840 --- [vector] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T11:09:22.223+08:00  INFO 11840 --- [vector] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1402 ms
2025-12-31T11:09:22.755+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T11:09:22.757+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T11:09:22.757+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T11:09:22.757+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T11:09:22.757+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T11:09:22.757+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T11:09:22.758+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T11:09:22.758+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T11:09:22.758+08:00  INFO 11840 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T11:09:25.097+08:00  INFO 11840 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:09:26.473+08:00  INFO 11840 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:09:26.530+08:00  INFO 11840 --- [vector] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8083 (http) with context path '/'
2025-12-31T11:09:27.897+08:00  INFO 11840 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:09:29.268+08:00  INFO 11840 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:09:29.275+08:00  INFO 11840 --- [vector] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T11:09:29.279+08:00  INFO 11840 --- [vector] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.365 seconds (process running for 11.078)
2025-12-31T11:09:35.926+08:00  INFO 11840 --- [vector] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T11:09:35.926+08:00  INFO 11840 --- [vector] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T11:09:35.928+08:00  INFO 11840 --- [vector] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T11:14:05.999+08:00  INFO 11840 --- [vector] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T11:14:06.723+08:00  INFO 11840 --- [vector] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T11:14:10.371+08:00  INFO 22012 --- [vector] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 22012 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:14:10.374+08:00  INFO 22012 --- [vector] [main] yuuine.xxrag.XxRagApplication            : The following 4 profiles are active: "app", "inference", "vector", "ingestion"
2025-12-31T11:14:11.055+08:00  INFO 22012 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:14:11.174+08:00  INFO 22012 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T11:14:11.179+08:00  INFO 22012 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:14:11.237+08:00  INFO 22012 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 1 Elasticsearch repository interface.
2025-12-31T11:14:11.454+08:00  INFO 22012 --- [vector] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3faba2ca-8052-3423-8800-0a930d4ba3a4
2025-12-31T11:14:11.741+08:00  INFO 22012 --- [vector] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8083 (http)
2025-12-31T11:14:11.753+08:00  INFO 22012 --- [vector] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T11:14:11.754+08:00  INFO 22012 --- [vector] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T11:14:11.815+08:00  INFO 22012 --- [vector] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1401 ms
2025-12-31T11:14:12.306+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T11:14:12.307+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T11:14:12.307+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T11:14:12.307+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T11:14:12.307+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T11:14:12.308+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T11:14:12.308+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T11:14:12.308+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T11:14:12.308+08:00  INFO 22012 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T11:14:12.968+08:00  INFO 22012 --- [vector] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T11:14:14.587+08:00  INFO 22012 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:14:15.954+08:00  INFO 22012 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:14:16.015+08:00  INFO 22012 --- [vector] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8083 (http) with context path '/'
2025-12-31T11:14:17.385+08:00  INFO 22012 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:14:18.830+08:00  INFO 22012 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T11:14:18.836+08:00  INFO 22012 --- [vector] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T11:14:18.840+08:00  INFO 22012 --- [vector] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.366 seconds (process running for 11.124)
2025-12-31T11:16:02.747+08:00  INFO 22012 --- [vector] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T11:16:03.660+08:00  INFO 22012 --- [vector] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T11:38:33.789+08:00  INFO 2408 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 2408 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:38:33.791+08:00 DEBUG 2408 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Running with Spring Boot v4.0.1, Spring v7.0.2
2025-12-31T11:38:33.791+08:00  INFO 2408 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T11:38:34.481+08:00  INFO 2408 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:38:34.619+08:00  INFO 2408 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T11:38:34.624+08:00  INFO 2408 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:38:34.683+08:00  INFO 2408 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 1 Elasticsearch repository interface.
2025-12-31T11:38:34.904+08:00  INFO 2408 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3faba2ca-8052-3423-8800-0a930d4ba3a4
2025-12-31T11:38:35.218+08:00  INFO 2408 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T11:38:35.232+08:00  INFO 2408 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T11:38:35.232+08:00  INFO 2408 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T11:38:35.290+08:00  INFO 2408 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1460 ms
2025-12-31T11:38:35.830+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T11:38:35.832+08:00  INFO 2408 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T11:38:35.842+08:00  WARN 2408 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
2025-12-31T11:38:35.845+08:00  INFO 2408 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-31T11:38:35.854+08:00  INFO 2408 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T11:38:35.866+08:00 ERROR 2408 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:993) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:538) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 35 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'embedding.api.api-key' in value "${embedding.api.api-key}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:296) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:129) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:96) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:286) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:257) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:184) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:959) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1672) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	... 44 common frames omitted

2025-12-31T11:39:54.382+08:00  INFO 13512 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 13512 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:39:54.384+08:00 DEBUG 13512 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Running with Spring Boot v4.0.1, Spring v7.0.2
2025-12-31T11:39:54.385+08:00  INFO 13512 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T11:39:55.237+08:00  INFO 13512 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:39:55.368+08:00  INFO 13512 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T11:39:55.374+08:00  INFO 13512 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:39:55.436+08:00  INFO 13512 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 1 Elasticsearch repository interface.
2025-12-31T11:39:55.656+08:00  INFO 13512 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3faba2ca-8052-3423-8800-0a930d4ba3a4
2025-12-31T11:39:55.931+08:00  INFO 13512 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T11:39:55.944+08:00  INFO 13512 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T11:39:55.944+08:00  INFO 13512 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T11:39:56.003+08:00  INFO 13512 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1569 ms
2025-12-31T11:39:56.482+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T11:39:56.483+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T11:39:56.484+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T11:39:56.484+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T11:39:56.484+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T11:39:56.484+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T11:39:56.484+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T11:39:56.484+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T11:39:56.485+08:00  INFO 13512 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T11:39:56.492+08:00  WARN 13512 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
2025-12-31T11:39:56.495+08:00  INFO 13512 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-31T11:39:56.503+08:00  INFO 13512 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T11:39:56.514+08:00 ERROR 13512 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:993) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:538) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 35 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'embedding.api.api-key' in value "${embedding.api.api-key}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:296) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:129) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:96) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:286) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:257) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:184) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:959) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1672) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	... 44 common frames omitted

2025-12-31T11:41:36.591+08:00  INFO 26600 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 26600 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:41:36.592+08:00 DEBUG 26600 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Running with Spring Boot v4.0.1, Spring v7.0.2
2025-12-31T11:41:36.593+08:00  INFO 26600 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T11:41:37.293+08:00  INFO 26600 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:41:37.435+08:00  INFO 26600 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 135 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T11:41:37.440+08:00  INFO 26600 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:41:37.501+08:00  INFO 26600 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58 ms. Found 1 Elasticsearch repository interface.
2025-12-31T11:41:37.753+08:00  INFO 26600 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3faba2ca-8052-3423-8800-0a930d4ba3a4
2025-12-31T11:41:38.075+08:00  INFO 26600 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T11:41:38.092+08:00  INFO 26600 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T11:41:38.092+08:00  INFO 26600 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T11:41:38.156+08:00  INFO 26600 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1523 ms
2025-12-31T11:41:38.694+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T11:41:38.695+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T11:41:38.696+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T11:41:38.696+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T11:41:38.696+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T11:41:38.696+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T11:41:38.696+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T11:41:38.696+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T11:41:38.696+08:00  INFO 26600 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T11:41:38.705+08:00  WARN 26600 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
2025-12-31T11:41:38.708+08:00  INFO 26600 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-31T11:41:38.716+08:00  INFO 26600 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T11:41:38.728+08:00 ERROR 26600 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:993) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:538) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 35 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'embedding.api.api-key' in value "${embedding.api.api-key}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:296) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:129) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:96) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:286) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:257) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:184) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:959) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1672) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	... 44 common frames omitted

2025-12-31T11:41:48.668+08:00  INFO 14960 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 14960 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:41:48.670+08:00 DEBUG 14960 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Running with Spring Boot v4.0.1, Spring v7.0.2
2025-12-31T11:41:48.670+08:00  INFO 14960 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T11:41:49.332+08:00  INFO 14960 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:41:49.448+08:00  INFO 14960 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 110 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T11:41:49.453+08:00  INFO 14960 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T11:41:49.511+08:00  INFO 14960 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 1 Elasticsearch repository interface.
2025-12-31T11:41:49.730+08:00  INFO 14960 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3faba2ca-8052-3423-8800-0a930d4ba3a4
2025-12-31T11:41:50.015+08:00  INFO 14960 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T11:41:50.026+08:00  INFO 14960 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T11:41:50.027+08:00  INFO 14960 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T11:41:50.080+08:00  INFO 14960 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1373 ms
2025-12-31T11:41:50.591+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T11:41:50.593+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T11:41:50.593+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T11:41:50.593+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T11:41:50.593+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T11:41:50.594+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T11:41:50.594+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T11:41:50.594+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T11:41:50.594+08:00  INFO 14960 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T11:41:50.603+08:00  WARN 14960 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
2025-12-31T11:41:50.606+08:00  INFO 14960 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-31T11:41:50.614+08:00  INFO 14960 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T11:41:50.626+08:00 ERROR 14960 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'vectorController' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\controller\VectorController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:993) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'embeddingServiceImpl' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\domain\embedding\service\impl\EmbeddingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dashScopeEmbeddingUtil' defined in file [C:\Users\11695\Desktop\xx-rag\target\classes\yuuine\xxrag\vector\util\DashScopeEmbeddingUtil.class]: Unexpected exception during bean creation
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:538) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	... 35 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'embedding.api.api-key' in value "${embedding.api.api-key}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:296) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:129) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:96) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:286) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:257) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:184) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:959) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1672) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	... 44 common frames omitted

2025-12-31T11:42:15.897+08:00  INFO 5384 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 5384 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:42:15.899+08:00  INFO 5384 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T11:42:16.423+08:00  WARN 5384 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
2025-12-31T11:42:16.428+08:00  INFO 5384 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T11:42:16.443+08:00 ERROR 5384 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:127) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:370) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.eagerlyRegisterFeignClientBeanDefinition(FeignClientsRegistrar.java:226) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClient(FeignClientsRegistrar.java:215) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClients(FeignClientsRegistrar.java:204) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerBeanDefinitions(FeignClientsRegistrar.java:154) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromImportBeanDefinitionRegistrars$0(ConfigurationClassBeanDefinitionReader.java:422) ~[spring-context-7.0.2.jar:7.0.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportBeanDefinitionRegistrars(ConfigurationClassBeanDefinitionReader.java:421) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:152) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:124) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:458) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:310) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: java.net.URISyntaxException: Illegal character in authority at index 7: http://${services.ingestion.base-url}
	at java.base/java.net.URI$Parser.fail(URI.java:2976) ~[na:na]
	at java.base/java.net.URI$Parser.parseAuthority(URI.java:3324) ~[na:na]
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3221) ~[na:na]
	at java.base/java.net.URI$Parser.parse(URI.java:3177) ~[na:na]
	at java.base/java.net.URI.<init>(URI.java:623) ~[na:na]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:124) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	... 24 common frames omitted

2025-12-31T11:42:59.076+08:00  INFO 29644 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 29644 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T11:42:59.078+08:00  INFO 29644 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T11:42:59.575+08:00  WARN 29644 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
2025-12-31T11:42:59.580+08:00  INFO 29644 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T11:42:59.601+08:00 ERROR 29644 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:127) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:370) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.eagerlyRegisterFeignClientBeanDefinition(FeignClientsRegistrar.java:226) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClient(FeignClientsRegistrar.java:215) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClients(FeignClientsRegistrar.java:204) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerBeanDefinitions(FeignClientsRegistrar.java:154) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromImportBeanDefinitionRegistrars$0(ConfigurationClassBeanDefinitionReader.java:422) ~[spring-context-7.0.2.jar:7.0.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportBeanDefinitionRegistrars(ConfigurationClassBeanDefinitionReader.java:421) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:152) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:124) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:458) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:310) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: java.net.URISyntaxException: Illegal character in authority at index 7: http://${services.ingestion.base-url}
	at java.base/java.net.URI$Parser.fail(URI.java:2976) ~[na:na]
	at java.base/java.net.URI$Parser.parseAuthority(URI.java:3324) ~[na:na]
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3221) ~[na:na]
	at java.base/java.net.URI$Parser.parse(URI.java:3177) ~[na:na]
	at java.base/java.net.URI.<init>(URI.java:623) ~[na:na]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:124) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	... 24 common frames omitted

2025-12-31T14:21:17.242+08:00  INFO 26184 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 26184 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T14:21:17.244+08:00  INFO 26184 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T14:21:18.735+08:00  WARN 26184 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
2025-12-31T14:21:18.740+08:00  INFO 26184 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T14:21:18.756+08:00 ERROR 26184 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:127) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:370) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.eagerlyRegisterFeignClientBeanDefinition(FeignClientsRegistrar.java:226) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClient(FeignClientsRegistrar.java:215) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClients(FeignClientsRegistrar.java:204) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerBeanDefinitions(FeignClientsRegistrar.java:154) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromImportBeanDefinitionRegistrars$0(ConfigurationClassBeanDefinitionReader.java:422) ~[spring-context-7.0.2.jar:7.0.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportBeanDefinitionRegistrars(ConfigurationClassBeanDefinitionReader.java:421) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:152) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:124) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:458) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:310) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: java.net.URISyntaxException: Illegal character in authority at index 7: http://${services.ingestion.base-url}
	at java.base/java.net.URI$Parser.fail(URI.java:2976) ~[na:na]
	at java.base/java.net.URI$Parser.parseAuthority(URI.java:3324) ~[na:na]
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3221) ~[na:na]
	at java.base/java.net.URI$Parser.parse(URI.java:3177) ~[na:na]
	at java.base/java.net.URI.<init>(URI.java:623) ~[na:na]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:124) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	... 24 common frames omitted

2025-12-31T15:52:46.557+08:00  INFO 20104 --- [vector] [main] y.xxrag.controller.RagControllerTest     : Starting RagControllerTest using Java 17.0.16 with PID 20104 (started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T15:52:46.559+08:00  INFO 20104 --- [vector] [main] y.xxrag.controller.RagControllerTest     : The following 4 profiles are active: "app", "inference", "vector", "ingestion"
2025-12-31T15:52:47.860+08:00  INFO 20104 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T15:52:48.056+08:00  INFO 20104 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 186 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T15:52:48.062+08:00  INFO 20104 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T15:52:48.140+08:00  INFO 20104 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 1 Elasticsearch repository interface.
2025-12-31T15:52:48.518+08:00  INFO 20104 --- [vector] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75861a9d-7754-392b-95e6-10e9fe09dab9
2025-12-31T15:52:49.063+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T15:52:49.069+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T15:52:49.070+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T15:52:49.070+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T15:52:49.070+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T15:52:49.070+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T15:52:49.070+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T15:52:49.070+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T15:52:49.071+08:00  INFO 20104 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T15:52:51.450+08:00  INFO 20104 --- [vector] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T15:52:53.766+08:00  INFO 20104 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T15:52:55.178+08:00  INFO 20104 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T15:52:55.235+08:00  INFO 20104 --- [vector] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T15:52:55.242+08:00  INFO 20104 --- [vector] [main] y.xxrag.controller.RagControllerTest     : Started RagControllerTest in 10.557 seconds (process running for 12.505)
2025-12-31T15:52:56.774+08:00  INFO 20104 --- [vector] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-12-31T15:52:56.775+08:00  INFO 20104 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-31T15:52:56.777+08:00  INFO 20104 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-12-31T15:52:58.079+08:00  INFO 20104 --- [vector] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-12-31T15:52:58.079+08:00  INFO 20104 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-31T15:52:58.080+08:00  INFO 20104 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-12-31T15:52:58.100+08:00  INFO 20104 --- [vector] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-12-31T15:52:58.100+08:00  INFO 20104 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-31T15:52:58.101+08:00  INFO 20104 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-12-31T15:53:47.479+08:00  INFO 11804 --- [vector] [main] y.xxrag.controller.RagControllerTest     : Starting RagControllerTest using Java 17.0.16 with PID 11804 (started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T15:53:47.481+08:00  INFO 11804 --- [vector] [main] y.xxrag.controller.RagControllerTest     : The following 4 profiles are active: "app", "inference", "vector", "ingestion"
2025-12-31T15:53:48.497+08:00  INFO 11804 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T15:53:48.662+08:00  INFO 11804 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 147 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T15:53:48.668+08:00  INFO 11804 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T15:53:48.745+08:00  INFO 11804 --- [vector] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 1 Elasticsearch repository interface.
2025-12-31T15:53:49.108+08:00  INFO 11804 --- [vector] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75861a9d-7754-392b-95e6-10e9fe09dab9
2025-12-31T15:53:49.561+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T15:53:49.565+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T15:53:49.566+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T15:53:49.566+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T15:53:49.566+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T15:53:49.566+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T15:53:49.567+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T15:53:49.567+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T15:53:49.567+08:00  INFO 11804 --- [vector] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T15:53:51.974+08:00  INFO 11804 --- [vector] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T15:53:54.341+08:00  INFO 11804 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T15:53:55.728+08:00  INFO 11804 --- [vector] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T15:53:55.781+08:00  INFO 11804 --- [vector] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T15:53:55.789+08:00  INFO 11804 --- [vector] [main] y.xxrag.controller.RagControllerTest     : Started RagControllerTest in 10.157 seconds (process running for 12.065)
2025-12-31T15:53:57.214+08:00  INFO 11804 --- [vector] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-12-31T15:53:57.215+08:00  INFO 11804 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-31T15:53:57.217+08:00  INFO 11804 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-12-31T15:53:58.750+08:00  INFO 11804 --- [vector] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-12-31T15:53:58.751+08:00  INFO 11804 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-31T15:53:58.751+08:00  INFO 11804 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-12-31T15:53:58.771+08:00  INFO 11804 --- [vector] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-12-31T15:53:58.772+08:00  INFO 11804 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-31T15:53:58.773+08:00  INFO 11804 --- [vector] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-12-31T16:30:43.862+08:00  INFO 19940 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 19940 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T16:30:43.864+08:00  INFO 19940 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T16:30:44.564+08:00  WARN 19940 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
2025-12-31T16:30:44.569+08:00  INFO 19940 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T16:30:44.590+08:00 ERROR 19940 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalArgumentException: http://${services.ingestion.base-url} is malformed
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:127) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:370) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.eagerlyRegisterFeignClientBeanDefinition(FeignClientsRegistrar.java:226) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClient(FeignClientsRegistrar.java:215) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerFeignClients(FeignClientsRegistrar.java:204) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerBeanDefinitions(FeignClientsRegistrar.java:154) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	at org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromImportBeanDefinitionRegistrars$0(ConfigurationClassBeanDefinitionReader.java:422) ~[spring-context-7.0.2.jar:7.0.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportBeanDefinitionRegistrars(ConfigurationClassBeanDefinitionReader.java:421) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:152) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:124) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:458) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:310) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:24) ~[classes/:na]
Caused by: java.net.URISyntaxException: Illegal character in authority at index 7: http://${services.ingestion.base-url}
	at java.base/java.net.URI$Parser.fail(URI.java:2976) ~[na:na]
	at java.base/java.net.URI$Parser.parseAuthority(URI.java:3324) ~[na:na]
	at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3221) ~[na:na]
	at java.base/java.net.URI$Parser.parse(URI.java:3177) ~[na:na]
	at java.base/java.net.URI.<init>(URI.java:623) ~[na:na]
	at org.springframework.cloud.openfeign.FeignClientsRegistrar.getUrl(FeignClientsRegistrar.java:124) ~[spring-cloud-openfeign-core-5.0.0.jar:5.0.0]
	... 24 common frames omitted

2025-12-31T17:15:46.106+08:00  INFO 26856 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 26856 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:15:46.108+08:00  INFO 26856 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T17:15:47.051+08:00  INFO 26856 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:15:47.227+08:00  INFO 26856 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 169 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T17:15:47.232+08:00  INFO 26856 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:15:47.294+08:00  INFO 26856 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 1 Elasticsearch repository interface.
2025-12-31T17:15:47.498+08:00  INFO 26856 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3077772a-8c0b-3a53-bc5c-c53e7f1c3959
2025-12-31T17:15:47.792+08:00  INFO 26856 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T17:15:47.806+08:00  INFO 26856 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T17:15:47.807+08:00  INFO 26856 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T17:15:47.872+08:00  INFO 26856 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1723 ms
2025-12-31T17:15:47.936+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T17:15:47.938+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T17:15:47.938+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T17:15:47.938+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T17:15:47.938+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T17:15:47.938+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T17:15:47.938+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T17:15:47.938+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T17:15:47.939+08:00  INFO 26856 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T17:15:48.990+08:00  INFO 26856 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T17:15:50.577+08:00  INFO 26856 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:15:51.946+08:00  INFO 26856 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:15:52.022+08:00  INFO 26856 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2025-12-31T17:15:53.406+08:00  INFO 26856 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:15:54.778+08:00  INFO 26856 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:15:54.785+08:00  INFO 26856 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T17:15:54.790+08:00  INFO 26856 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.629 seconds (process running for 11.47)
2025-12-31T17:16:00.240+08:00  INFO 26856 --- [xx-rag] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T17:16:00.240+08:00  INFO 26856 --- [xx-rag] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T17:16:00.241+08:00  INFO 26856 --- [xx-rag] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T17:20:25.067+08:00  INFO 25876 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.16 with PID 25876 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:20:25.070+08:00  INFO 25876 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : No active profile set, falling back to 1 default profile: "default"
2025-12-31T17:20:25.697+08:00  INFO 25876 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:20:25.819+08:00  INFO 25876 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 115 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T17:20:25.824+08:00  INFO 25876 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:20:25.884+08:00  INFO 25876 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58 ms. Found 1 Elasticsearch repository interface.
2025-12-31T17:20:26.066+08:00  INFO 25876 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9d8ece1d-f285-377d-b7ed-156ee030cc43
2025-12-31T17:20:26.420+08:00  INFO 25876 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T17:20:26.435+08:00  INFO 25876 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T17:20:26.436+08:00  INFO 25876 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T17:20:26.498+08:00  INFO 25876 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1390 ms
2025-12-31T17:20:26.564+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T17:20:26.566+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T17:20:26.566+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T17:20:26.566+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T17:20:26.566+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T17:20:26.566+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T17:20:26.567+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T17:20:26.567+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T17:20:26.567+08:00  INFO 25876 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T17:20:27.522+08:00  INFO 25876 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T17:20:29.085+08:00  INFO 25876 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:20:30.441+08:00  INFO 25876 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:20:30.501+08:00  WARN 25876 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-31T17:20:30.516+08:00  INFO 25876 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T17:20:30.528+08:00 ERROR 25876 --- [xx-rag] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-31T17:20:54.378+08:00  INFO 26856 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T17:20:55.089+08:00  INFO 26856 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T17:21:19.066+08:00  INFO 12788 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.16 with PID 12788 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:21:19.068+08:00  INFO 12788 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : No active profile set, falling back to 1 default profile: "default"
2025-12-31T17:21:19.726+08:00  INFO 12788 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:21:19.857+08:00  INFO 12788 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T17:21:19.862+08:00  INFO 12788 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:21:19.926+08:00  INFO 12788 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 1 Elasticsearch repository interface.
2025-12-31T17:21:20.118+08:00  INFO 12788 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9d8ece1d-f285-377d-b7ed-156ee030cc43
2025-12-31T17:21:20.491+08:00  INFO 12788 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T17:21:20.504+08:00  INFO 12788 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T17:21:20.505+08:00  INFO 12788 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T17:21:20.563+08:00  INFO 12788 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1451 ms
2025-12-31T17:21:20.632+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T17:21:20.634+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T17:21:20.634+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T17:21:20.634+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T17:21:20.635+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T17:21:20.635+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T17:21:20.635+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T17:21:20.635+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T17:21:20.635+08:00  INFO 12788 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T17:21:21.617+08:00  INFO 12788 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T17:21:23.210+08:00  INFO 12788 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:21:24.568+08:00  INFO 12788 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:21:24.619+08:00  INFO 12788 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T17:21:25.981+08:00  INFO 12788 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:21:27.332+08:00  INFO 12788 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:21:27.339+08:00  INFO 12788 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T17:21:27.342+08:00  INFO 12788 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.17 seconds (process running for 10.688)
2025-12-31T17:21:42.714+08:00  INFO 12788 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T17:21:42.714+08:00  INFO 12788 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T17:21:42.715+08:00  INFO 12788 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T17:22:27.117+08:00  INFO 30024 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 30024 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:22:27.119+08:00  INFO 30024 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T17:22:27.954+08:00  INFO 30024 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:22:28.085+08:00  INFO 30024 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T17:22:28.091+08:00  INFO 30024 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:22:28.153+08:00  INFO 30024 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 1 Elasticsearch repository interface.
2025-12-31T17:22:28.356+08:00  INFO 30024 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3077772a-8c0b-3a53-bc5c-c53e7f1c3959
2025-12-31T17:22:28.679+08:00  INFO 30024 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T17:22:28.695+08:00  INFO 30024 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T17:22:28.695+08:00  INFO 30024 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T17:22:28.757+08:00  INFO 30024 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1596 ms
2025-12-31T17:22:28.832+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T17:22:28.834+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T17:22:28.834+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T17:22:28.834+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T17:22:28.834+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T17:22:28.835+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T17:22:28.835+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T17:22:28.835+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T17:22:28.835+08:00  INFO 30024 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T17:22:29.885+08:00  INFO 30024 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T17:22:31.513+08:00  INFO 30024 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:22:32.890+08:00  INFO 30024 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:22:32.968+08:00  WARN 30024 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-31T17:22:32.985+08:00  INFO 30024 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T17:22:32.998+08:00 ERROR 30024 --- [xx-rag] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-31T17:22:44.725+08:00  INFO 12788 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T17:22:45.411+08:00  INFO 12788 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T17:22:49.554+08:00  INFO 31508 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 31508 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:22:49.556+08:00  INFO 31508 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T17:22:50.192+08:00  INFO 31508 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:22:50.316+08:00  INFO 31508 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T17:22:50.321+08:00  INFO 31508 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:22:50.386+08:00  INFO 31508 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 1 Elasticsearch repository interface.
2025-12-31T17:22:50.564+08:00  INFO 31508 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3077772a-8c0b-3a53-bc5c-c53e7f1c3959
2025-12-31T17:22:50.844+08:00  INFO 31508 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T17:22:50.855+08:00  INFO 31508 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T17:22:50.856+08:00  INFO 31508 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T17:22:50.907+08:00  INFO 31508 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1313 ms
2025-12-31T17:22:50.967+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T17:22:50.969+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T17:22:50.969+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T17:22:50.969+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T17:22:50.969+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T17:22:50.969+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T17:22:50.970+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T17:22:50.970+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T17:22:50.970+08:00  INFO 31508 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T17:22:51.881+08:00  INFO 31508 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T17:22:53.488+08:00  INFO 31508 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:22:54.892+08:00  INFO 31508 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:22:54.958+08:00  INFO 31508 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T17:22:56.320+08:00  INFO 31508 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:22:57.682+08:00  INFO 31508 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:22:57.689+08:00  INFO 31508 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T17:22:57.692+08:00  INFO 31508 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.042 seconds (process running for 10.79)
2025-12-31T17:23:39.575+08:00  INFO 31508 --- [xx-rag] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T17:23:39.576+08:00  INFO 31508 --- [xx-rag] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T17:23:39.577+08:00  INFO 31508 --- [xx-rag] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T17:25:51.763+08:00  INFO 31508 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T17:25:52.472+08:00  INFO 31508 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T17:25:58.085+08:00  INFO 9048 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 9048 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:25:58.087+08:00  INFO 9048 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T17:25:58.272+08:00  WARN 9048 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [yuuine.xxrag.XxRagApplication]
2025-12-31T17:25:58.292+08:00 ERROR 9048 --- [xx-rag] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [yuuine.xxrag.XxRagApplication]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:446) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:310) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:794) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at yuuine.xxrag.XxRagApplication.main(XxRagApplication.java:15) ~[classes/:na]
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'globalExceptionHandler' for bean class [yuuine.xxrag.ingestion.exception.GlobalExceptionHandler] conflicts with existing, non-compatible bean definition of same name and class [yuuine.xxrag.app.exception.GlobalExceptionHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:360) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:347) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:283) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-7.0.2.jar:7.0.2]
	... 13 common frames omitted

2025-12-31T17:26:25.988+08:00  INFO 25120 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 25120 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:26:25.990+08:00  INFO 25120 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T17:26:26.662+08:00  INFO 25120 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:26:26.787+08:00  INFO 25120 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T17:26:26.792+08:00  INFO 25120 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:26:26.858+08:00  INFO 25120 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 1 Elasticsearch repository interface.
2025-12-31T17:26:27.079+08:00  INFO 25120 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=caed6445-f605-30e0-9e46-5263f71a49b0
2025-12-31T17:26:27.371+08:00  INFO 25120 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T17:26:27.385+08:00  INFO 25120 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T17:26:27.386+08:00  INFO 25120 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T17:26:27.441+08:00  INFO 25120 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1416 ms
2025-12-31T17:26:27.506+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T17:26:27.508+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T17:26:27.508+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T17:26:27.508+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T17:26:27.508+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T17:26:27.508+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T17:26:27.508+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T17:26:27.509+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T17:26:27.509+08:00  INFO 25120 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T17:26:28.489+08:00  INFO 25120 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T17:26:30.077+08:00  INFO 25120 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:26:31.455+08:00  INFO 25120 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:26:31.527+08:00  INFO 25120 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T17:26:32.893+08:00  INFO 25120 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:26:34.254+08:00  INFO 25120 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:26:34.260+08:00  INFO 25120 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T17:26:34.264+08:00  INFO 25120 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.202 seconds (process running for 11.023)
2025-12-31T17:26:36.438+08:00  INFO 25120 --- [xx-rag] [http-nio-8081-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T17:26:36.438+08:00  INFO 25120 --- [xx-rag] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T17:26:36.439+08:00  INFO 25120 --- [xx-rag] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T17:26:36.477+08:00  INFO 25120 --- [xx-rag] [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-31T17:26:37.653+08:00 ERROR 25120 --- [xx-rag] [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in yuuine/xxrag/app/docService/repository/DocMapper.java (best guess)
### The error may involve yuuine.xxrag.app.docService.repository.DocMapper.getDoc
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection] with root cause

java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:840) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:416) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:373) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:210) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-7.0.2.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-7.0.2.jar:7.0.2]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-7.0.2.jar:7.0.2]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-7.0.2.jar:7.0.2]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:83) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:70) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:348) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at jdk.proxy2/jdk.proxy2.$Proxy97.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:209) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy100.getDoc(Unknown Source) ~[na:na]
	at yuuine.xxrag.app.docService.impl.DocServiceImpl.getDoc(DocServiceImpl.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715) ~[spring-aop-7.0.2.jar:7.0.2]
	at yuuine.xxrag.app.docService.impl.DocServiceImpl$$SpringCGLIB$$0.getDoc(<generated>) ~[classes/:na]
	at yuuine.xxrag.app.appService.impl.AppServiceImpl.getDocList(AppServiceImpl.java:81) ~[classes/:na]
	at yuuine.xxrag.controller.RagController.getDoc(RagController.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T17:28:18.870+08:00  INFO 25120 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T17:28:19.571+08:00  INFO 25120 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T17:28:25.246+08:00  INFO 2352 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 2352 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T17:28:25.248+08:00  INFO 2352 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T17:28:25.954+08:00  INFO 2352 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:28:26.087+08:00  INFO 2352 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 125 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T17:28:26.092+08:00  INFO 2352 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T17:28:26.152+08:00  INFO 2352 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58 ms. Found 1 Elasticsearch repository interface.
2025-12-31T17:28:26.344+08:00  INFO 2352 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=caed6445-f605-30e0-9e46-5263f71a49b0
2025-12-31T17:28:26.629+08:00  INFO 2352 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T17:28:26.642+08:00  INFO 2352 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T17:28:26.643+08:00  INFO 2352 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T17:28:26.696+08:00  INFO 2352 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1414 ms
2025-12-31T17:28:26.756+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T17:28:26.758+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T17:28:26.758+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T17:28:26.758+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T17:28:26.758+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T17:28:26.758+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T17:28:26.758+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T17:28:26.759+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T17:28:26.759+08:00  INFO 2352 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T17:28:27.713+08:00  INFO 2352 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T17:28:29.320+08:00  INFO 2352 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:28:30.694+08:00  INFO 2352 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:28:30.761+08:00  INFO 2352 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T17:28:32.131+08:00  INFO 2352 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:28:33.286+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T17:28:33.287+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T17:28:33.288+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T17:28:33.323+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-31T17:28:33.468+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a7c2415
2025-12-31T17:28:33.470+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-31T17:28:33.501+08:00  INFO 2352 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T17:28:33.508+08:00  INFO 2352 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T17:28:33.513+08:00  INFO 2352 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.239 seconds (process running for 11.001)
2025-12-31T17:28:33.536+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-2] y.x.app.docService.impl.DocServiceImpl   : 获取文档列表成功，共计 3 份
2025-12-31T17:28:50.641+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-5] y.x.app.docService.impl.DocServiceImpl   : 获取文档列表成功，共计 3 份
2025-12-31T17:29:01.940+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.app.appService.impl.AppServiceImpl   : 收到搜索请求，查询: 你好
2025-12-31T17:29:01.941+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T17:29:01.941+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T17:29:01.941+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T17:29:02.692+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T17:29:03.800+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T17:29:04.229+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T17:29:04.231+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T17:29:04.232+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T17:29:04.232+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T17:29:04.232+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T17:29:04.233+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T17:29:04.233+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.a.r.impl.RagInferenceServiceImpl     : 推理请求，查询: 你好
2025-12-31T17:29:04.233+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.a.r.impl.RagInferenceServiceImpl     : 调用推理服务，查询: 你好
2025-12-31T17:29:04.316+08:00 DEBUG 2352 --- [xx-rag] [http-nio-8081-exec-1] o.s.w.r.f.client.ExchangeFunctions       : [32523a6d] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T17:29:05.093+08:00 DEBUG 2352 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [32523a6d] [1b876b2d-1] Response 200 OK
2025-12-31T17:29:09.492+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.i.service.impl.InferenceServiceImpl  : Token usage - prompt: 837, completion: 107, total: 944
2025-12-31T17:29:09.492+08:00  INFO 2352 --- [xx-rag] [http-nio-8081-exec-1] y.x.a.r.impl.RagInferenceServiceImpl     : 推理服务调用完成，查询: 你好
2025-12-31T17:29:24.726+08:00  INFO 2352 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T17:29:25.470+08:00  INFO 2352 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T17:29:27.570+08:00  INFO 2352 --- [xx-rag] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-31T17:29:27.575+08:00  INFO 2352 --- [xx-rag] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-31T19:52:07.962+08:00  INFO 12048 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 12048 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T19:52:07.965+08:00  INFO 12048 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T19:52:09.008+08:00  INFO 12048 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T19:52:09.150+08:00  INFO 12048 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T19:52:09.156+08:00  INFO 12048 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T19:52:09.214+08:00  INFO 12048 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 1 Elasticsearch repository interface.
2025-12-31T19:52:09.757+08:00  INFO 12048 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T19:52:09.771+08:00  INFO 12048 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T19:52:09.771+08:00  INFO 12048 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T19:52:09.829+08:00  INFO 12048 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1805 ms
2025-12-31T19:52:09.898+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T19:52:09.899+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T19:52:09.900+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T19:52:09.900+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T19:52:09.900+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T19:52:09.900+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T19:52:09.900+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T19:52:09.900+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T19:52:09.900+08:00  INFO 12048 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T19:52:11.012+08:00  INFO 12048 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T19:52:11.285+08:00  INFO 12048 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T19:52:11.290+08:00  INFO 12048 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T19:52:11.296+08:00  INFO 12048 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.854 seconds (process running for 4.535)
2025-12-31T19:52:20.671+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T19:52:20.672+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T19:52:20.673+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T19:52:39.164+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.app.appService.impl.AppServiceImpl   : 收到搜索请求，查询: 你好
2025-12-31T19:52:39.164+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T19:52:39.164+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T19:52:39.164+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T19:52:39.835+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T19:52:40.487+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T19:52:40.562+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T19:52:40.562+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T19:52:40.562+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T19:52:40.562+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T19:52:40.573+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T19:52:40.573+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T19:52:40.573+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.a.r.impl.RagInferenceServiceImpl     : 推理请求，查询: 你好
2025-12-31T19:52:40.573+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.a.r.impl.RagInferenceServiceImpl     : 调用推理服务，查询: 你好
2025-12-31T19:52:40.650+08:00 DEBUG 12048 --- [xx-rag] [http-nio-8081-exec-6] o.s.w.r.f.client.ExchangeFunctions       : [293f5af8] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T19:52:41.284+08:00 DEBUG 12048 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [293f5af8] [ce556a29-1] Response 200 OK
2025-12-31T19:52:43.106+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.i.service.impl.InferenceServiceImpl  : Token usage - prompt: 837, completion: 23, total: 860
2025-12-31T19:52:43.106+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-6] y.x.a.r.impl.RagInferenceServiceImpl     : 推理服务调用完成，查询: 你好
2025-12-31T19:52:49.480+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.app.appService.impl.AppServiceImpl   : 收到搜索请求，查询: 你好
2025-12-31T19:52:49.480+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T19:52:49.480+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T19:52:49.480+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T19:52:49.589+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T19:52:49.651+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T19:52:49.700+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T19:52:49.707+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T19:52:49.707+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T19:52:49.707+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T19:52:49.707+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T19:52:49.707+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T19:52:49.707+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.a.r.impl.RagInferenceServiceImpl     : 推理请求，查询: 你好
2025-12-31T19:52:49.707+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.a.r.impl.RagInferenceServiceImpl     : 调用推理服务，查询: 你好
2025-12-31T19:52:49.707+08:00 DEBUG 12048 --- [xx-rag] [http-nio-8081-exec-8] o.s.w.r.f.client.ExchangeFunctions       : [40fe6e9c] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T19:52:49.750+08:00 DEBUG 12048 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [40fe6e9c] [ce556a29-2] Response 200 OK
2025-12-31T19:52:51.197+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.i.service.impl.InferenceServiceImpl  : Token usage - prompt: 837, completion: 14, total: 851
2025-12-31T19:52:51.197+08:00  INFO 12048 --- [xx-rag] [http-nio-8081-exec-8] y.x.a.r.impl.RagInferenceServiceImpl     : 推理服务调用完成，查询: 你好
2025-12-31T19:54:27.777+08:00  INFO 12048 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T19:54:28.469+08:00  INFO 12048 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T19:54:33.035+08:00  INFO 23284 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 23284 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T19:54:33.037+08:00  INFO 23284 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T19:54:33.747+08:00  INFO 23284 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T19:54:33.871+08:00  INFO 23284 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T19:54:33.876+08:00  INFO 23284 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T19:54:33.932+08:00  INFO 23284 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 1 Elasticsearch repository interface.
2025-12-31T19:54:34.383+08:00  INFO 23284 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T19:54:34.394+08:00  INFO 23284 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T19:54:34.394+08:00  INFO 23284 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T19:54:34.449+08:00  INFO 23284 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1365 ms
2025-12-31T19:54:34.510+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T19:54:34.511+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T19:54:34.512+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T19:54:34.512+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T19:54:34.512+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T19:54:34.512+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T19:54:34.512+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T19:54:34.512+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T19:54:34.513+08:00  INFO 23284 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T19:54:35.431+08:00  INFO 23284 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T19:54:35.688+08:00  INFO 23284 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T19:54:35.693+08:00  INFO 23284 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T19:54:35.698+08:00  INFO 23284 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.226 seconds (process running for 3.901)
2025-12-31T19:54:41.636+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T19:54:41.636+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T19:54:41.637+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T19:54:46.545+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.app.appService.impl.AppServiceImpl   : 收到搜索请求，查询: 你好
2025-12-31T19:54:46.545+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T19:54:46.545+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T19:54:46.545+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T19:54:47.093+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T19:54:47.524+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagInferenceServiceImpl     : 推理请求，查询: 你好
2025-12-31T19:54:47.580+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagInferenceServiceImpl     : 调用推理服务，查询: 你好
2025-12-31T19:54:47.649+08:00 DEBUG 23284 --- [xx-rag] [http-nio-8081-exec-3] o.s.w.r.f.client.ExchangeFunctions       : [54ec2f77] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T19:54:48.436+08:00 DEBUG 23284 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [54ec2f77] [c725b620-1] Response 200 OK
2025-12-31T19:54:52.643+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.i.service.impl.InferenceServiceImpl  : Token usage - prompt: 837, completion: 103, total: 940
2025-12-31T19:54:52.643+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagInferenceServiceImpl     : 推理服务调用完成，查询: 你好
2025-12-31T19:56:55.952+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.app.appService.impl.AppServiceImpl   : 收到搜索请求，查询: 小王子
2025-12-31T19:56:55.952+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 小王子
2025-12-31T19:56:55.952+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='小王子', topK=5
2025-12-31T19:56:55.952+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=小王子, topK=5
2025-12-31T19:56:56.066+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='小王子', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T19:56:56.382+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.a.r.impl.RagInferenceServiceImpl     : 推理请求，查询: 小王子
2025-12-31T19:56:56.449+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.a.r.impl.RagInferenceServiceImpl     : 调用推理服务，查询: 小王子
2025-12-31T19:56:56.459+08:00 DEBUG 23284 --- [xx-rag] [http-nio-8081-exec-7] o.s.w.r.f.client.ExchangeFunctions       : [38ae9aaf] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T19:56:56.718+08:00 DEBUG 23284 --- [xx-rag] [reactor-http-nio-3] o.s.w.r.f.client.ExchangeFunctions       : [38ae9aaf] [8df2c8ac-1] Response 200 OK
2025-12-31T19:57:07.167+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.i.service.impl.InferenceServiceImpl  : Token usage - prompt: 2723, completion: 281, total: 3004
2025-12-31T19:57:07.167+08:00  INFO 23284 --- [xx-rag] [http-nio-8081-exec-7] y.x.a.r.impl.RagInferenceServiceImpl     : 推理服务调用完成，查询: 小王子
2025-12-31T19:57:14.217+08:00  WARN 23284 --- [xx-rag] [http-nio-8081-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-12-31T20:25:23.323+08:00  INFO 23284 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T20:25:24.234+08:00  INFO 23284 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T20:34:52.379+08:00  INFO 16752 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 16752 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T20:34:52.382+08:00  INFO 16752 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T20:34:53.147+08:00  INFO 16752 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T20:34:53.296+08:00  INFO 16752 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 140 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T20:34:53.303+08:00  INFO 16752 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T20:34:53.369+08:00  INFO 16752 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 1 Elasticsearch repository interface.
2025-12-31T20:34:53.869+08:00  INFO 16752 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T20:34:53.887+08:00  INFO 16752 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T20:34:53.887+08:00  INFO 16752 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T20:34:53.948+08:00  INFO 16752 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1524 ms
2025-12-31T20:34:54.021+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T20:34:54.023+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T20:34:54.023+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T20:34:54.023+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T20:34:54.023+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T20:34:54.023+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T20:34:54.024+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T20:34:54.024+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T20:34:54.024+08:00  INFO 16752 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T20:34:55.157+08:00  INFO 16752 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T20:34:55.437+08:00  INFO 16752 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T20:34:55.443+08:00  INFO 16752 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T20:34:55.449+08:00  INFO 16752 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.569 seconds (process running for 4.251)
2025-12-31T20:34:56.735+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T20:34:56.735+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T20:34:56.735+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-31T20:34:59.161+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.app.appService.impl.AppServiceImpl   : 收到搜索请求，查询: 你好
2025-12-31T20:34:59.161+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T20:34:59.162+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T20:34:59.162+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T20:34:59.792+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T20:35:00.296+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T20:35:00.361+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T20:35:00.361+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T20:35:00.361+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T20:35:00.361+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T20:35:00.361+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T20:35:00.361+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T20:35:00.361+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 开始推理（非流式），query=你好
2025-12-31T20:35:00.440+08:00 DEBUG 16752 --- [xx-rag] [http-nio-8081-exec-2] o.s.w.r.f.client.ExchangeFunctions       : [33f59cc6] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T20:35:01.046+08:00 DEBUG 16752 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [33f59cc6] [94e35b37-1] Response 200 OK
2025-12-31T20:35:02.251+08:00  INFO 16752 --- [xx-rag] [http-nio-8081-exec-2] y.x.i.service.impl.InferenceServiceImpl  : Token usage - prompt: 837, completion: 14, total: 851
2025-12-31T20:35:02.258+08:00  WARN 16752 --- [xx-rag] [http-nio-8081-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class yuuine.xxrag.dto.common.Result] with preset Content-Type 'null']
2025-12-31T20:42:02.905+08:00  INFO 26852 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.16 with PID 26852 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T20:42:02.909+08:00  INFO 26852 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : No active profile set, falling back to 1 default profile: "default"
2025-12-31T20:42:03.580+08:00  INFO 26852 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T20:42:03.717+08:00  INFO 26852 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T20:42:03.723+08:00  INFO 26852 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T20:42:03.786+08:00  INFO 26852 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 1 Elasticsearch repository interface.
2025-12-31T20:42:04.362+08:00  INFO 26852 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T20:42:04.378+08:00  INFO 26852 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T20:42:04.378+08:00  INFO 26852 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T20:42:04.446+08:00  INFO 26852 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1490 ms
2025-12-31T20:42:04.514+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T20:42:04.515+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T20:42:04.516+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T20:42:04.516+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T20:42:04.516+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T20:42:04.516+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T20:42:04.517+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T20:42:04.517+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T20:42:04.517+08:00  INFO 26852 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T20:42:05.720+08:00  INFO 26852 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T20:42:05.971+08:00  WARN 26852 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-31T20:42:05.986+08:00  INFO 26852 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T20:42:05.998+08:00 ERROR 26852 --- [xx-rag] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-31T20:42:42.783+08:00  INFO 16752 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T20:42:43.510+08:00  INFO 16752 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T20:42:58.291+08:00  INFO 28004 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.16 with PID 28004 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T20:42:58.294+08:00  INFO 28004 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : No active profile set, falling back to 1 default profile: "default"
2025-12-31T20:42:58.940+08:00  INFO 28004 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T20:42:59.079+08:00  INFO 28004 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T20:42:59.085+08:00  INFO 28004 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T20:42:59.159+08:00  INFO 28004 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 1 Elasticsearch repository interface.
2025-12-31T20:42:59.742+08:00  INFO 28004 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2025-12-31T20:42:59.756+08:00  INFO 28004 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T20:42:59.756+08:00  INFO 28004 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T20:42:59.816+08:00  INFO 28004 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1480 ms
2025-12-31T20:42:59.887+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T20:42:59.889+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T20:42:59.889+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T20:42:59.889+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T20:42:59.889+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T20:42:59.890+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T20:42:59.890+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T20:42:59.890+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T20:42:59.890+08:00  INFO 28004 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T20:43:01.015+08:00  INFO 28004 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T20:43:01.269+08:00  INFO 28004 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2025-12-31T20:43:01.275+08:00  INFO 28004 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T20:43:01.281+08:00  INFO 28004 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.462 seconds (process running for 3.893)
2025-12-31T20:43:35.671+08:00  INFO 28004 --- [xx-rag] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T20:43:35.672+08:00  INFO 28004 --- [xx-rag] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T20:43:35.672+08:00  INFO 28004 --- [xx-rag] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-31T20:43:54.700+08:00  INFO 28004 --- [xx-rag] [http-nio-8080-exec-5] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T20:43:54.700+08:00  INFO 28004 --- [xx-rag] [http-nio-8080-exec-5] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T20:43:54.700+08:00  INFO 28004 --- [xx-rag] [http-nio-8080-exec-5] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T20:43:55.136+08:00 ERROR 28004 --- [xx-rag] [http-nio-8080-exec-5] y.x.v.d.e.s.impl.EmbeddingServiceImpl    : Failed to generate query embedding

java.lang.RuntimeException: DashScope Embedding API 调用异常: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	at yuuine.xxrag.vector.util.DashScopeEmbeddingUtil.generateEmbeddingResult(DashScopeEmbeddingUtil.java:58) ~[classes/:na]
	at yuuine.xxrag.vector.domain.embedding.service.impl.EmbeddingServiceImpl.embedQuery(EmbeddingServiceImpl.java:178) ~[classes/:na]
	at yuuine.xxrag.vector.domain.es.service.VectorSearchService.search(VectorSearchService.java:33) ~[classes/:na]
	at yuuine.xxrag.vector.applicaiton.VectorApiImpl.search(VectorApiImpl.java:54) ~[classes/:na]
	at yuuine.xxrag.app.ragVectorService.impl.RagVectorServiceImpl.search(RagVectorServiceImpl.java:53) ~[classes/:na]
	at yuuine.xxrag.app.appService.impl.AppServiceImpl.searchStream(AppServiceImpl.java:116) ~[classes/:na]
	at yuuine.xxrag.controller.RagController.searchStream(RagController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.alibaba.dashscope.exception.ApiException: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}; status body:{"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	at com.alibaba.dashscope.protocol.okhttp.OkHttpHttpClient.send(OkHttpHttpClient.java:236) ~[dashscope-sdk-java-2.17.1.jar:na]
	at com.alibaba.dashscope.api.SynchronizeHalfDuplexApi.call(SynchronizeHalfDuplexApi.java:58) ~[dashscope-sdk-java-2.17.1.jar:na]
	at com.alibaba.dashscope.embeddings.TextEmbedding.call(TextEmbedding.java:91) ~[dashscope-sdk-java-2.17.1.jar:na]
	at yuuine.xxrag.vector.util.DashScopeEmbeddingUtil.generateEmbeddingResult(DashScopeEmbeddingUtil.java:51) ~[classes/:na]
	... 51 common frames omitted
Caused by: com.alibaba.dashscope.exception.ApiException: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}; status body:{"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	... 55 common frames omitted

2025-12-31T20:43:55.144+08:00 ERROR 28004 --- [xx-rag] [http-nio-8080-exec-5] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索失败，查询: 你好

java.lang.RuntimeException: Query embedding failed: DashScope Embedding API 调用异常: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	at yuuine.xxrag.vector.domain.embedding.service.impl.EmbeddingServiceImpl.embedQuery(EmbeddingServiceImpl.java:196) ~[classes/:na]
	at yuuine.xxrag.vector.domain.es.service.VectorSearchService.search(VectorSearchService.java:33) ~[classes/:na]
	at yuuine.xxrag.vector.applicaiton.VectorApiImpl.search(VectorApiImpl.java:54) ~[classes/:na]
	at yuuine.xxrag.app.ragVectorService.impl.RagVectorServiceImpl.search(RagVectorServiceImpl.java:53) ~[classes/:na]
	at yuuine.xxrag.app.appService.impl.AppServiceImpl.searchStream(AppServiceImpl.java:116) ~[classes/:na]
	at yuuine.xxrag.controller.RagController.searchStream(RagController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.RuntimeException: DashScope Embedding API 调用异常: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	at yuuine.xxrag.vector.util.DashScopeEmbeddingUtil.generateEmbeddingResult(DashScopeEmbeddingUtil.java:58) ~[classes/:na]
	at yuuine.xxrag.vector.domain.embedding.service.impl.EmbeddingServiceImpl.embedQuery(EmbeddingServiceImpl.java:178) ~[classes/:na]
	... 50 common frames omitted
Caused by: com.alibaba.dashscope.exception.ApiException: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}; status body:{"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	at com.alibaba.dashscope.protocol.okhttp.OkHttpHttpClient.send(OkHttpHttpClient.java:236) ~[dashscope-sdk-java-2.17.1.jar:na]
	at com.alibaba.dashscope.api.SynchronizeHalfDuplexApi.call(SynchronizeHalfDuplexApi.java:58) ~[dashscope-sdk-java-2.17.1.jar:na]
	at com.alibaba.dashscope.embeddings.TextEmbedding.call(TextEmbedding.java:91) ~[dashscope-sdk-java-2.17.1.jar:na]
	at yuuine.xxrag.vector.util.DashScopeEmbeddingUtil.generateEmbeddingResult(DashScopeEmbeddingUtil.java:51) ~[classes/:na]
	... 51 common frames omitted
Caused by: com.alibaba.dashscope.exception.ApiException: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}; status body:{"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	... 55 common frames omitted

2025-12-31T20:43:55.149+08:00 ERROR 28004 --- [xx-rag] [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: yuuine.xxrag.app.exception.BusinessException: Vector服务调用失败: Query embedding failed: DashScope Embedding API 调用异常: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}] with root cause

com.alibaba.dashscope.exception.ApiException: {"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}; status body:{"statusCode":401,"message":"Invalid API-key provided.","code":"InvalidApiKey","isJson":true,"requestId":"7ed41a41-d436-4610-8d59-f2450205819b"}
	at com.alibaba.dashscope.protocol.okhttp.OkHttpHttpClient.send(OkHttpHttpClient.java:236) ~[dashscope-sdk-java-2.17.1.jar:na]
	at com.alibaba.dashscope.api.SynchronizeHalfDuplexApi.call(SynchronizeHalfDuplexApi.java:58) ~[dashscope-sdk-java-2.17.1.jar:na]
	at com.alibaba.dashscope.embeddings.TextEmbedding.call(TextEmbedding.java:91) ~[dashscope-sdk-java-2.17.1.jar:na]
	at yuuine.xxrag.vector.util.DashScopeEmbeddingUtil.generateEmbeddingResult(DashScopeEmbeddingUtil.java:51) ~[classes/:na]
	at yuuine.xxrag.vector.domain.embedding.service.impl.EmbeddingServiceImpl.embedQuery(EmbeddingServiceImpl.java:178) ~[classes/:na]
	at yuuine.xxrag.vector.domain.es.service.VectorSearchService.search(VectorSearchService.java:33) ~[classes/:na]
	at yuuine.xxrag.vector.applicaiton.VectorApiImpl.search(VectorApiImpl.java:54) ~[classes/:na]
	at yuuine.xxrag.app.ragVectorService.impl.RagVectorServiceImpl.search(RagVectorServiceImpl.java:53) ~[classes/:na]
	at yuuine.xxrag.app.appService.impl.AppServiceImpl.searchStream(AppServiceImpl.java:116) ~[classes/:na]
	at yuuine.xxrag.controller.RagController.searchStream(RagController.java:55) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T21:17:39.115+08:00  INFO 29032 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 29032 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T21:17:39.119+08:00  INFO 29032 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T21:17:39.955+08:00  INFO 29032 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:17:40.077+08:00  INFO 29032 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T21:17:40.082+08:00  INFO 29032 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:17:40.145+08:00  INFO 29032 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 1 Elasticsearch repository interface.
2025-12-31T21:17:40.637+08:00  INFO 29032 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T21:17:40.649+08:00  INFO 29032 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T21:17:40.650+08:00  INFO 29032 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T21:17:40.707+08:00  INFO 29032 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1531 ms
2025-12-31T21:17:40.779+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T21:17:40.781+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T21:17:40.781+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T21:17:40.781+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T21:17:40.781+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T21:17:40.781+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T21:17:40.782+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T21:17:40.782+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T21:17:40.782+08:00  INFO 29032 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T21:17:41.795+08:00  INFO 29032 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T21:17:42.047+08:00  INFO 29032 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T21:17:42.053+08:00  INFO 29032 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T21:17:42.058+08:00  INFO 29032 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.489 seconds (process running for 4.342)
2025-12-31T21:17:43.957+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T21:17:43.957+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T21:17:43.957+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-31T21:17:48.481+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:17:48.481+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T21:17:48.481+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T21:17:48.958+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:17:49.370+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:17:49.428+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:17:49.432+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:17:49.432+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:17:49.432+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:17:49.432+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:17:49.432+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:17:49.432+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:17:49.460+08:00  INFO 29032 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:17:49.502+08:00 DEBUG 29032 --- [xx-rag] [http-nio-8081-exec-3] o.s.w.r.f.client.ExchangeFunctions       : [4f0dc3f4] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:17:50.079+08:00 DEBUG 29032 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [4f0dc3f4] [a27ac314-1] Response 200 OK
2025-12-31T21:17:50.814+08:00 ERROR 29032 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式调用异常，query length: 1355

org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from POST https://api.deepseek.com/v1/chat/completions, but response failed with cause: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:324) ~[spring-webflux-7.0.2.jar:7.0.2]
	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[spring-webflux-7.0.2.jar:7.0.2]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:196) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:157) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:143) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:123) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:341) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:383) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:192) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:67) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4569) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:104) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:484) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:305) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ Body from POST https://api.deepseek.com/v1/chat/completions [DefaultClientResponse]
Original Stack Trace:
		at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release0(RefCnt.java:451) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release(RefCnt.java:436) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt.release(RefCnt.java:144) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:83) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release0(AbstractDerivedByteBuf.java:98) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release(AbstractDerivedByteBuf.java:94) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92) ~[netty-codec-http-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:90) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:300) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T21:17:50.821+08:00  INFO 29032 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:17:50.824+08:00  INFO 29032 --- [xx-rag] [task-1] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:24:17.797+08:00  INFO 29032 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T21:24:18.666+08:00  INFO 29032 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T21:24:21.097+08:00  INFO 13356 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 13356 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T21:24:21.100+08:00  INFO 13356 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T21:24:21.752+08:00  INFO 13356 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:24:21.870+08:00  INFO 13356 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T21:24:21.874+08:00  INFO 13356 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:24:21.932+08:00  INFO 13356 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 1 Elasticsearch repository interface.
2025-12-31T21:24:22.400+08:00  INFO 13356 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T21:24:22.420+08:00  INFO 13356 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T21:24:22.420+08:00  INFO 13356 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T21:24:22.470+08:00  INFO 13356 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1327 ms
2025-12-31T21:24:22.540+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T21:24:22.542+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T21:24:22.542+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T21:24:22.542+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T21:24:22.542+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T21:24:22.542+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T21:24:22.542+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T21:24:22.543+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T21:24:22.543+08:00  INFO 13356 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T21:24:23.479+08:00  INFO 13356 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T21:24:23.720+08:00  INFO 13356 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T21:24:23.730+08:00  INFO 13356 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T21:24:23.730+08:00  INFO 13356 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.121 seconds (process running for 3.819)
2025-12-31T21:24:27.731+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T21:24:27.731+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T21:24:27.732+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T21:24:31.049+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:24:31.049+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T21:24:31.049+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T21:24:31.480+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:24:31.890+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:24:31.940+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:24:31.945+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:24:31.945+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:24:31.945+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:24:31.945+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:24:31.946+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:24:31.946+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:24:31.973+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:24:32.015+08:00 DEBUG 13356 --- [xx-rag] [http-nio-8081-exec-2] o.s.w.r.f.client.ExchangeFunctions       : [62da7c95] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:24:32.584+08:00 DEBUG 13356 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [62da7c95] [7174be33-1] Response 200 OK
2025-12-31T21:24:33.473+08:00 ERROR 13356 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式调用异常，query length: 1355

org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from POST https://api.deepseek.com/v1/chat/completions, but response failed with cause: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:324) ~[spring-webflux-7.0.2.jar:7.0.2]
	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[spring-webflux-7.0.2.jar:7.0.2]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:196) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:157) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:143) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:123) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:341) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:383) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:192) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:67) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4569) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:104) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:484) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:305) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ Body from POST https://api.deepseek.com/v1/chat/completions [DefaultClientResponse]
Original Stack Trace:
		at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release0(RefCnt.java:451) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release(RefCnt.java:436) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt.release(RefCnt.java:144) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:83) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release0(AbstractDerivedByteBuf.java:98) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release(AbstractDerivedByteBuf.java:94) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92) ~[netty-codec-http-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:90) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:300) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T21:24:33.480+08:00  INFO 13356 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:24:33.480+08:00  INFO 13356 --- [xx-rag] [task-1] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:24:39.002+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:24:39.002+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T21:24:39.002+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T21:24:39.120+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:24:39.181+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:24:39.230+08:00  INFO 13356 --- [xx-rag] [http-nio-8081-exec-5] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:24:39.230+08:00 DEBUG 13356 --- [xx-rag] [http-nio-8081-exec-5] o.s.w.r.f.client.ExchangeFunctions       : [4cafdad] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:24:39.270+08:00 DEBUG 13356 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [4cafdad] [7174be33-2] Response 200 OK
2025-12-31T21:24:39.924+08:00 ERROR 13356 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式调用异常，query length: 1355

org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from POST https://api.deepseek.com/v1/chat/completions, but response failed with cause: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:324) ~[spring-webflux-7.0.2.jar:7.0.2]
	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[spring-webflux-7.0.2.jar:7.0.2]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:196) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:157) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:143) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:123) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:341) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:383) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:192) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:67) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4569) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:104) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:484) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:305) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ Body from POST https://api.deepseek.com/v1/chat/completions [DefaultClientResponse]
Original Stack Trace:
		at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release0(RefCnt.java:451) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release(RefCnt.java:436) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt.release(RefCnt.java:144) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:83) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release0(AbstractDerivedByteBuf.java:98) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release(AbstractDerivedByteBuf.java:94) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92) ~[netty-codec-http-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:90) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:300) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T21:24:39.924+08:00  INFO 13356 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:24:39.929+08:00  INFO 13356 --- [xx-rag] [task-3] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:25:31.226+08:00  INFO 13356 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T21:25:32.711+08:00  INFO 13356 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T21:25:52.323+08:00  INFO 3832 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 3832 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T21:25:52.324+08:00  INFO 3832 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T21:25:52.983+08:00  INFO 3832 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:25:53.104+08:00  INFO 3832 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T21:25:53.109+08:00  INFO 3832 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:25:53.166+08:00  INFO 3832 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 1 Elasticsearch repository interface.
2025-12-31T21:25:53.630+08:00  INFO 3832 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T21:25:53.643+08:00  INFO 3832 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T21:25:53.644+08:00  INFO 3832 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T21:25:53.699+08:00  INFO 3832 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1332 ms
2025-12-31T21:25:53.762+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T21:25:53.763+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T21:25:53.763+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T21:25:53.764+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T21:25:53.764+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T21:25:53.764+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T21:25:53.764+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T21:25:53.764+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T21:25:53.764+08:00  INFO 3832 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T21:25:54.744+08:00  INFO 3832 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T21:25:54.989+08:00  INFO 3832 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T21:25:54.994+08:00  INFO 3832 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T21:25:54.999+08:00  INFO 3832 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.143 seconds (process running for 3.817)
2025-12-31T21:25:57.687+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T21:25:57.687+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T21:25:57.687+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-31T21:25:57.777+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 1
2025-12-31T21:25:57.777+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='1', topK=5
2025-12-31T21:25:57.777+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=1, topK=5
2025-12-31T21:25:58.399+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='1', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:25:58.901+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:25:58.962+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:25:58.963+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:25:58.963+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:25:58.963+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:25:58.964+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:25:58.964+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:25:58.964+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=1
2025-12-31T21:25:58.996+08:00  INFO 3832 --- [xx-rag] [http-nio-8081-exec-1] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=1
2025-12-31T21:25:59.038+08:00 DEBUG 3832 --- [xx-rag] [http-nio-8081-exec-1] o.s.w.r.f.client.ExchangeFunctions       : [35eb27c4] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:25:59.586+08:00 DEBUG 3832 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [35eb27c4] [e6604c48-1] Response 200 OK
2025-12-31T21:26:00.414+08:00 ERROR 3832 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式调用异常，query length: 2665

org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from POST https://api.deepseek.com/v1/chat/completions, but response failed with cause: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:324) ~[spring-webflux-7.0.2.jar:7.0.2]
	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[spring-webflux-7.0.2.jar:7.0.2]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:196) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:157) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:143) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:123) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:341) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:383) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:192) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:67) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4569) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:104) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:545) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:225) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.8.1.jar:3.8.1]
	at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:484) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:305) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1
	at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
	Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ Body from POST https://api.deepseek.com/v1/chat/completions [DefaultClientResponse]
Original Stack Trace:
		at io.netty.util.internal.RefCnt.throwIllegalRefCountOnRelease(RefCnt.java:239) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release0(RefCnt.java:451) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt$UnsafeRefCnt.release(RefCnt.java:436) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.RefCnt.release(RefCnt.java:144) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:83) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release0(AbstractDerivedByteBuf.java:98) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.buffer.AbstractDerivedByteBuf.release(AbstractDerivedByteBuf.java:94) ~[netty-buffer-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92) ~[netty-codec-http-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:90) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:300) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:407) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:445) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:979) ~[reactor-netty-http-1.3.1.jar:1.3.1]
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[reactor-netty-core-1.3.1.jar:1.3.1]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:434) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:361) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:325) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:249) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:293) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:354) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1540) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1398) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1449) ~[netty-handler-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:545) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:484) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-base-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:356) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1429) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:918) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:172) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.handle(AbstractNioChannel.java:445) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler$DefaultNioRegistration.handle(NioIoHandler.java:388) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKey(NioIoHandler.java:596) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeysOptimized(NioIoHandler.java:571) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.processSelectedKeys(NioIoHandler.java:512) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.nio.NioIoHandler.run(NioIoHandler.java:484) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.runIo(SingleThreadIoEventLoop.java:225) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.channel.SingleThreadIoEventLoop.run(SingleThreadIoEventLoop.java:196) ~[netty-transport-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:1195) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.2.9.Final.jar:4.2.9.Final]
		at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T21:26:00.420+08:00  INFO 3832 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:26:00.427+08:00  INFO 3832 --- [xx-rag] [task-1] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=1
2025-12-31T21:32:50.959+08:00  INFO 3832 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T21:32:51.845+08:00  INFO 3832 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T21:36:51.727+08:00  INFO 28144 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 28144 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T21:36:51.730+08:00  INFO 28144 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T21:36:52.430+08:00  INFO 28144 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:36:52.550+08:00  INFO 28144 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T21:36:52.555+08:00  INFO 28144 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:36:52.617+08:00  INFO 28144 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 1 Elasticsearch repository interface.
2025-12-31T21:36:53.130+08:00  INFO 28144 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T21:36:53.143+08:00  INFO 28144 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T21:36:53.144+08:00  INFO 28144 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T21:36:53.205+08:00  INFO 28144 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1419 ms
2025-12-31T21:36:53.280+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T21:36:53.282+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T21:36:53.283+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T21:36:53.283+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T21:36:53.283+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T21:36:53.283+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T21:36:53.283+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T21:36:53.283+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T21:36:53.283+08:00  INFO 28144 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T21:36:54.295+08:00  INFO 28144 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T21:36:54.542+08:00  INFO 28144 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T21:36:54.548+08:00  INFO 28144 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T21:36:54.552+08:00  INFO 28144 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.346 seconds (process running for 3.962)
2025-12-31T21:36:55.917+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T21:36:55.917+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T21:36:55.919+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-31T21:36:58.423+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:36:58.424+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T21:36:58.424+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T21:36:59.076+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:36:59.523+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:36:59.576+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:36:59.576+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:36:59.576+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:36:59.576+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:36:59.576+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:36:59.576+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:36:59.576+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:36:59.615+08:00  INFO 28144 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:36:59.659+08:00 DEBUG 28144 --- [xx-rag] [http-nio-8081-exec-2] o.s.w.r.f.client.ExchangeFunctions       : [8847f8a] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:37:00.208+08:00 DEBUG 28144 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [8847f8a] [4ad45b92-1] Response 200 OK
2025-12-31T21:37:01.974+08:00  INFO 28144 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:37:01.974+08:00  INFO 28144 --- [xx-rag] [reactor-http-nio-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:39:18.133+08:00  INFO 28144 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T21:39:18.904+08:00  INFO 28144 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T21:39:25.924+08:00  INFO 6368 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 6368 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T21:39:25.926+08:00  INFO 6368 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T21:39:26.642+08:00  INFO 6368 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:39:26.766+08:00  INFO 6368 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T21:39:26.772+08:00  INFO 6368 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:39:26.830+08:00  INFO 6368 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 1 Elasticsearch repository interface.
2025-12-31T21:39:27.342+08:00  INFO 6368 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T21:39:27.358+08:00  INFO 6368 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T21:39:27.358+08:00  INFO 6368 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T21:39:27.415+08:00  INFO 6368 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1443 ms
2025-12-31T21:39:27.479+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T21:39:27.481+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T21:39:27.481+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T21:39:27.481+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T21:39:27.481+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T21:39:27.481+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T21:39:27.482+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T21:39:27.482+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T21:39:27.482+08:00  INFO 6368 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T21:39:28.438+08:00  INFO 6368 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T21:39:28.708+08:00  INFO 6368 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T21:39:28.714+08:00  INFO 6368 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T21:39:28.720+08:00  INFO 6368 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.29 seconds (process running for 3.955)
2025-12-31T21:39:30.741+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T21:39:30.741+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T21:39:30.742+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T21:39:32.941+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:39:32.941+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T21:39:32.941+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T21:39:33.545+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:39:33.964+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:39:34.014+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:39:34.014+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:39:34.014+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:39:34.014+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:39:34.018+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:39:34.018+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:39:34.018+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:39:34.045+08:00  INFO 6368 --- [xx-rag] [http-nio-8081-exec-3] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:39:34.093+08:00 DEBUG 6368 --- [xx-rag] [http-nio-8081-exec-3] o.s.w.r.f.client.ExchangeFunctions       : [198c182c] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:39:34.656+08:00 DEBUG 6368 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [198c182c] [6a8e25c2-1] Response 200 OK
2025-12-31T21:39:37.639+08:00  INFO 6368 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:39:37.640+08:00  INFO 6368 --- [xx-rag] [reactor-http-nio-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:40:06.365+08:00  INFO 6368 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T21:40:07.102+08:00  INFO 6368 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T21:45:09.239+08:00  INFO 10296 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 10296 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T21:45:09.242+08:00  INFO 10296 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T21:45:09.960+08:00  INFO 10296 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:45:10.121+08:00  INFO 10296 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 143 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T21:45:10.126+08:00  INFO 10296 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:45:10.190+08:00  INFO 10296 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 1 Elasticsearch repository interface.
2025-12-31T21:45:10.824+08:00  INFO 10296 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T21:45:10.838+08:00  INFO 10296 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T21:45:10.840+08:00  INFO 10296 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T21:45:10.905+08:00  INFO 10296 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1616 ms
2025-12-31T21:45:10.968+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T21:45:10.968+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T21:45:10.968+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T21:45:10.968+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T21:45:10.968+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T21:45:10.968+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T21:45:10.968+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T21:45:10.971+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T21:45:10.971+08:00  INFO 10296 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T21:45:11.996+08:00  INFO 10296 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T21:45:12.256+08:00  INFO 10296 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T21:45:12.261+08:00  INFO 10296 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T21:45:12.265+08:00  INFO 10296 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.536 seconds (process running for 4.184)
2025-12-31T21:45:15.014+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T21:45:15.015+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T21:45:15.016+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T21:45:17.295+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:45:17.298+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T21:45:17.298+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T21:45:17.809+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:45:18.298+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:45:18.344+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:45:18.348+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:45:18.348+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:45:18.348+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:45:18.348+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:45:18.348+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:45:18.348+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:45:18.379+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:45:18.429+08:00 DEBUG 10296 --- [xx-rag] [http-nio-8081-exec-2] o.s.w.r.f.client.ExchangeFunctions       : [2f0f91d3] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:45:19.025+08:00 DEBUG 10296 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [2f0f91d3] [24253a49-1] Response 200 OK
2025-12-31T21:45:24.011+08:00  INFO 10296 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:45:24.011+08:00  INFO 10296 --- [xx-rag] [reactor-http-nio-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:45:36.736+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:45:36.737+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T21:45:36.737+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T21:45:36.838+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:45:36.893+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:45:36.928+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-7] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:45:36.928+08:00 DEBUG 10296 --- [xx-rag] [http-nio-8081-exec-7] o.s.w.r.f.client.ExchangeFunctions       : [72a60adc] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:45:36.962+08:00 DEBUG 10296 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [72a60adc] [24253a49-2] Response 200 OK
2025-12-31T21:45:41.455+08:00  INFO 10296 --- [xx-rag] [reactor-http-nio-2] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:45:41.455+08:00  INFO 10296 --- [xx-rag] [reactor-http-nio-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:49:45.863+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T21:49:45.863+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=null
2025-12-31T21:49:45.863+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=10
2025-12-31T21:50:07.638+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:50:07.691+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:50:07.721+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:50:07.727+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:50:07.727+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:50:07.727+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:50:07.727+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:50:07.727+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:50:07.727+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=你好
2025-12-31T21:50:07.727+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-2] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=你好
2025-12-31T21:50:07.728+08:00 DEBUG 10296 --- [xx-rag] [http-nio-8081-exec-2] o.s.w.r.f.client.ExchangeFunctions       : [7d61363b] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:50:07.819+08:00 DEBUG 10296 --- [xx-rag] [reactor-http-nio-3] o.s.w.r.f.client.ExchangeFunctions       : [7d61363b] [e30c349d-1] Response 200 OK
2025-12-31T21:50:09.119+08:00  INFO 10296 --- [xx-rag] [reactor-http-nio-3] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:50:09.119+08:00  INFO 10296 --- [xx-rag] [task-15] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=你好
2025-12-31T21:50:41.568+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 什么是git
2025-12-31T21:50:41.569+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='什么是git', topK=null
2025-12-31T21:50:41.569+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=什么是git, topK=10
2025-12-31T21:50:41.667+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='什么是git', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T21:50:42.947+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T21:50:42.995+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T21:50:42.995+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T21:50:42.995+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T21:50:42.995+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T21:50:42.995+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T21:50:42.995+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T21:50:42.996+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.a.r.impl.RagInferenceServiceImpl     : 开始流式推理，query=什么是git
2025-12-31T21:50:42.996+08:00  INFO 10296 --- [xx-rag] [http-nio-8081-exec-4] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理开始，query=什么是git
2025-12-31T21:50:42.996+08:00 DEBUG 10296 --- [xx-rag] [http-nio-8081-exec-4] o.s.w.r.f.client.ExchangeFunctions       : [56622fd6] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T21:50:43.140+08:00 DEBUG 10296 --- [xx-rag] [reactor-http-nio-3] o.s.w.r.f.client.ExchangeFunctions       : [56622fd6] [e30c349d-2] Response 200 OK
2025-12-31T21:50:46.551+08:00  INFO 10296 --- [xx-rag] [reactor-http-nio-3] y.x.i.service.impl.InferenceServiceImpl  : DeepSeek 流式响应结束
2025-12-31T21:50:46.551+08:00  INFO 10296 --- [xx-rag] [reactor-http-nio-3] y.x.a.r.impl.RagInferenceServiceImpl     : 流式推理结束，query=什么是git
2025-12-31T21:58:28.601+08:00  INFO 10296 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T21:58:29.562+08:00  INFO 10296 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T21:58:37.630+08:00  INFO 2504 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.16 with PID 2504 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T21:58:37.630+08:00  INFO 2504 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : No active profile set, falling back to 1 default profile: "default"
2025-12-31T21:58:38.270+08:00  INFO 2504 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:58:38.404+08:00  INFO 2504 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 130 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T21:58:38.409+08:00  INFO 2504 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T21:58:38.471+08:00  INFO 2504 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 1 Elasticsearch repository interface.
2025-12-31T21:58:39.052+08:00  INFO 2504 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T21:58:39.065+08:00  INFO 2504 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T21:58:39.065+08:00  INFO 2504 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T21:58:39.130+08:00  INFO 2504 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1458 ms
2025-12-31T21:58:39.197+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T21:58:39.200+08:00  INFO 2504 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T21:58:40.219+08:00  INFO 2504 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T21:58:40.489+08:00  INFO 2504 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T21:58:40.489+08:00  INFO 2504 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T21:58:40.502+08:00  INFO 2504 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.356 seconds (process running for 3.773)
2025-12-31T21:58:42.384+08:00  INFO 2504 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T21:58:42.385+08:00  INFO 2504 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T21:58:42.386+08:00  INFO 2504 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T21:58:47.177+08:00  INFO 2504 --- [xx-rag] [http-nio-8081-exec-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-31T21:58:48.373+08:00 ERROR 2504 --- [xx-rag] [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in yuuine/xxrag/app/docService/repository/DocMapper.java (best guess)
### The error may involve yuuine.xxrag.app.docService.repository.DocMapper.getDoc
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection] with root cause

java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:840) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:416) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:180) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:373) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:210) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-7.0.2.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-7.0.2.jar:7.0.2]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-7.0.2.jar:7.0.2]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-7.0.2.jar:7.0.2]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:83) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:70) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:348) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at jdk.proxy2/jdk.proxy2.$Proxy90.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:209) ~[mybatis-spring-4.0.0.jar:4.0.0]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy93.getDoc(Unknown Source) ~[na:na]
	at yuuine.xxrag.app.docService.impl.DocServiceImpl.getDoc(DocServiceImpl.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715) ~[spring-aop-7.0.2.jar:7.0.2]
	at yuuine.xxrag.app.docService.impl.DocServiceImpl$$SpringCGLIB$$0.getDoc(<generated>) ~[classes/:na]
	at yuuine.xxrag.app.appService.impl.AppServiceImpl.getDocList(AppServiceImpl.java:83) ~[classes/:na]
	at yuuine.xxrag.controller.RagController.getDoc(RagController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T22:03:39.160+08:00  INFO 18640 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 18640 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T22:03:39.160+08:00  INFO 18640 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T22:03:39.879+08:00  INFO 18640 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:03:40.003+08:00  INFO 18640 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 118 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T22:03:40.010+08:00  INFO 18640 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:03:40.079+08:00  INFO 18640 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 1 Elasticsearch repository interface.
2025-12-31T22:03:40.640+08:00  INFO 18640 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T22:03:40.654+08:00  INFO 18640 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T22:03:40.654+08:00  INFO 18640 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T22:03:40.719+08:00  INFO 18640 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1509 ms
2025-12-31T22:03:40.801+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T22:03:40.803+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T22:03:40.804+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T22:03:40.804+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T22:03:40.804+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T22:03:40.804+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T22:03:40.804+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T22:03:40.805+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T22:03:40.805+08:00  INFO 18640 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T22:03:41.772+08:00  INFO 18640 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T22:03:42.054+08:00  WARN 18640 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-31T22:03:42.066+08:00  INFO 18640 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T22:03:42.079+08:00 ERROR 18640 --- [xx-rag] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-31T22:04:07.485+08:00  INFO 27920 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 27920 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T22:04:07.488+08:00  INFO 27920 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T22:04:08.144+08:00  INFO 27920 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:04:08.262+08:00  INFO 27920 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T22:04:08.267+08:00  INFO 27920 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:04:08.327+08:00  INFO 27920 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 1 Elasticsearch repository interface.
2025-12-31T22:04:08.806+08:00  INFO 27920 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T22:04:08.817+08:00  INFO 27920 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T22:04:08.817+08:00  INFO 27920 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T22:04:08.869+08:00  INFO 27920 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1345 ms
2025-12-31T22:04:08.932+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T22:04:08.933+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T22:04:08.933+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T22:04:08.934+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T22:04:08.934+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T22:04:08.934+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T22:04:08.934+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T22:04:08.934+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T22:04:08.934+08:00  INFO 27920 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T22:04:09.901+08:00  INFO 27920 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T22:04:10.227+08:00  WARN 27920 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-31T22:04:10.241+08:00  INFO 27920 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T22:04:10.254+08:00 ERROR 27920 --- [xx-rag] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-31T22:04:20.984+08:00  INFO 28612 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 28612 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T22:04:20.986+08:00  INFO 28612 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T22:04:21.687+08:00  INFO 28612 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:04:21.805+08:00  INFO 28612 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T22:04:21.810+08:00  INFO 28612 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:04:21.869+08:00  INFO 28612 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 1 Elasticsearch repository interface.
2025-12-31T22:04:22.333+08:00  INFO 28612 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T22:04:22.345+08:00  INFO 28612 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T22:04:22.346+08:00  INFO 28612 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T22:04:22.398+08:00  INFO 28612 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1359 ms
2025-12-31T22:04:22.459+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T22:04:22.460+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T22:04:22.461+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T22:04:22.461+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T22:04:22.461+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T22:04:22.461+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T22:04:22.461+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T22:04:22.461+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T22:04:22.461+08:00  INFO 28612 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T22:04:23.416+08:00  INFO 28612 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T22:04:23.678+08:00  WARN 28612 --- [xx-rag] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-31T22:04:23.690+08:00  INFO 28612 --- [xx-rag] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-31T22:04:23.701+08:00 ERROR 28612 --- [xx-rag] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-31T22:04:45.527+08:00  INFO 2504 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T22:04:46.217+08:00  INFO 2504 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T22:04:49.556+08:00  INFO 27896 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 27896 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T22:04:49.559+08:00  INFO 27896 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T22:04:50.222+08:00  INFO 27896 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:04:50.345+08:00  INFO 27896 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T22:04:50.349+08:00  INFO 27896 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:04:50.409+08:00  INFO 27896 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 1 Elasticsearch repository interface.
2025-12-31T22:04:50.861+08:00  INFO 27896 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T22:04:50.874+08:00  INFO 27896 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T22:04:50.874+08:00  INFO 27896 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T22:04:50.929+08:00  INFO 27896 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1330 ms
2025-12-31T22:04:50.988+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T22:04:50.990+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T22:04:50.990+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T22:04:50.990+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T22:04:50.990+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T22:04:50.990+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T22:04:50.990+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T22:04:50.990+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T22:04:50.991+08:00  INFO 27896 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T22:04:51.926+08:00  INFO 27896 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T22:04:52.191+08:00  INFO 27896 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T22:04:52.196+08:00  INFO 27896 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T22:04:52.201+08:00  INFO 27896 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.152 seconds (process running for 3.958)
2025-12-31T22:04:58.713+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T22:04:58.713+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T22:04:58.714+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-31T22:05:01.026+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-31T22:05:01.209+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f045b40
2025-12-31T22:05:01.209+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-31T22:05:01.296+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-3] y.x.app.docService.impl.DocServiceImpl   : 获取文档列表成功，共计 3 份
2025-12-31T22:05:08.987+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.i.d.service.DocumentParserService    : [FileParser] 开始路由解析器，文件类型: application/pdf
2025-12-31T22:05:08.987+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.i.d.service.DocumentParserService    : [FileParser] 命中解析器: PdfParser
2025-12-31T22:05:08.987+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.i.domain.parser.impl.PdfParser       : [PDFParser] 开始解析 PDF: name=测试图片.pdf, size=64849字节
2025-12-31T22:05:10.650+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] o.a.tika.parser.ocr.TesseractOCRParser   : Tesseract is installed and is being invoked. This can add greatly to processing time.  If you do not want tesseract to be applied to your files see: https://cwiki.apache.org/confluence/display/TIKA/TikaOCR#TikaOCR-disable-ocr
2025-12-31T22:05:11.912+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.i.domain.parser.impl.PdfParser       : [PDFParser] PDF 解析完成，文本长度 324 字符
2025-12-31T22:05:11.940+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.ingestion.domain.chunk.ChunkService  : [ChunkService] Generated 1 chunks from text.
2025-12-31T22:05:11.941+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.a.r.impl.RagVectorServiceImpl        : 向量数据添加，源文件数量: 1
2025-12-31T22:05:11.941+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量添加请求，待处理chunks数量: 1
2025-12-31T22:05:12.423+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.e.s.impl.EmbeddingServiceImpl    : Embedding finished: successChunk=1, failedChunk=0, documents=1
2025-12-31T22:05:12.424+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.es.service.VectorAddService      : 开始保存向量文档到ES，文档数量: 1
2025-12-31T22:05:13.289+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.v.d.es.service.VectorAddService      : 成功保存向量文档到ES，文档数量: 1
2025-12-31T22:05:13.290+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.vector.applicaiton.VectorApiImpl     : 向量添加完成，成功: 1, 失败: 0
2025-12-31T22:05:13.290+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.a.r.impl.RagVectorServiceImpl        : 向量数据添加完成，成功: 1, 失败: 0
2025-12-31T22:05:13.323+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.app.appService.impl.AppServiceImpl   : 文件 MySQL 持久化完成，共 1 个文件
2025-12-31T22:05:13.324+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-5] y.x.app.appService.impl.AppServiceImpl   : 文件上传处理完成，成功: 1, 失败: 0
2025-12-31T22:05:25.115+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-4] y.x.app.docService.impl.DocServiceImpl   : 获取文档列表成功，共计 4 份
2025-12-31T22:05:26.969+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-6] y.x.app.docService.impl.DocServiceImpl   : 开始批量删除文档，数量: 1
2025-12-31T22:05:26.969+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-6] y.x.vector.applicaiton.VectorApiImpl     : 接收到批量删除请求，fileMd5 数量: 1
2025-12-31T22:05:27.169+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-6] y.x.v.d.es.service.VectorDeleteService   : ES 批量删除成功，file 数量: 1
2025-12-31T22:05:27.169+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-6] y.x.vector.applicaiton.VectorApiImpl     : 批量删除成功
2025-12-31T22:05:27.169+08:00  INFO 27896 --- [xx-rag] [http-nio-8081-exec-6] y.x.app.docService.impl.DocServiceImpl   : 向量库 chunks 删除完成
2025-12-31T22:05:27.173+08:00 ERROR 27896 --- [xx-rag] [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): yuuine.xxrag.app.docService.repository.DocMapper.batchDeleteByFileMd5] with root cause

org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): yuuine.xxrag.app.docService.repository.DocMapper.batchDeleteByFileMd5
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy93.batchDeleteByFileMd5(Unknown Source) ~[na:na]
	at yuuine.xxrag.app.docService.impl.DocServiceImpl.deleteDocuments(DocServiceImpl.java:69) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.2.jar:7.0.2]
	at yuuine.xxrag.app.docService.impl.DocServiceImpl$$SpringCGLIB$$0.deleteDocuments(<generated>) ~[classes/:na]
	at yuuine.xxrag.app.appService.impl.AppServiceImpl.deleteDocuments(AppServiceImpl.java:92) ~[classes/:na]
	at yuuine.xxrag.controller.RagController.deleteDocuments(RagController.java:41) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-31T22:18:21.384+08:00  INFO 27896 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T22:18:22.114+08:00  INFO 27896 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T22:18:22.133+08:00  INFO 27896 --- [xx-rag] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-31T22:18:22.138+08:00  INFO 27896 --- [xx-rag] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-31T22:18:32.340+08:00  INFO 13324 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 13324 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T22:18:32.342+08:00  INFO 13324 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T22:18:33.315+08:00  INFO 13324 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:18:33.440+08:00  INFO 13324 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T22:18:33.440+08:00  INFO 13324 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:18:33.510+08:00  INFO 13324 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 1 Elasticsearch repository interface.
2025-12-31T22:18:33.762+08:00  INFO 13324 --- [xx-rag] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=caed6445-f605-30e0-9e46-5263f71a49b0
2025-12-31T22:18:34.086+08:00  INFO 13324 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T22:18:34.101+08:00  INFO 13324 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T22:18:34.102+08:00  INFO 13324 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T22:18:34.167+08:00  INFO 13324 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1794 ms
2025-12-31T22:18:34.246+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T22:18:34.247+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T22:18:34.247+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T22:18:34.247+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T22:18:34.248+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T22:18:34.248+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T22:18:34.248+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T22:18:34.248+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T22:18:34.248+08:00  INFO 13324 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T22:18:35.277+08:00  INFO 13324 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T22:18:36.907+08:00  INFO 13324 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T22:18:38.301+08:00  INFO 13324 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T22:18:38.373+08:00  INFO 13324 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T22:18:39.753+08:00  INFO 13324 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T22:18:41.163+08:00  INFO 13324 --- [xx-rag] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-12-31T22:18:41.169+08:00  INFO 13324 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T22:18:41.169+08:00  INFO 13324 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 10.786 seconds (process running for 11.57)
2025-12-31T22:18:43.216+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T22:18:43.216+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T22:18:43.217+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T22:18:44.393+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-31T22:18:44.550+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1dc7d60d
2025-12-31T22:18:44.552+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-31T22:18:44.626+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-2] y.x.app.docService.impl.DocServiceImpl   : 获取文档列表成功，共计 4 份
2025-12-31T22:18:47.540+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.app.appService.impl.AppServiceImpl   : 收到搜索请求，查询: 你好
2025-12-31T22:18:47.540+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.a.r.impl.RagVectorServiceImpl        : 向量搜索请求，查询: 你好
2025-12-31T22:18:47.540+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.vector.applicaiton.VectorApiImpl     : 接收到向量搜索请求: query='你好', topK=5
2025-12-31T22:18:47.540+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.es.service.VectorSearchService   : 开始执行向量搜索: query=你好, topK=5
2025-12-31T22:18:48.201+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : 开始执行混合检索: queryText='你好', recallTopK=5, finalTopK=10, numCandidates=50
2025-12-31T22:18:48.618+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : BM25 搜索完成，返回结果数量: 5
2025-12-31T22:18:48.672+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : kNN 搜索完成，返回结果数量: 5
2025-12-31T22:18:48.672+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，，RRF 融合后结果数量: 10
2025-12-31T22:18:48.672+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.e.s.RagHybridSearchService       : 混合检索完成，最终返回结果数量: 10
2025-12-31T22:18:48.672+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.es.service.VectorSearchService   : 检索完成，返回结果数量: 10
2025-12-31T22:18:48.672+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.v.d.es.service.VectorSearchService   : 搜索结果转换完成，最终返回结果数量: 10
2025-12-31T22:18:48.672+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.vector.applicaiton.VectorApiImpl     : 向量搜索完成，返回结果数量: 10
2025-12-31T22:18:48.672+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.a.r.impl.RagInferenceServiceImpl     : 推理请求，查询: 你好
2025-12-31T22:18:48.678+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.a.r.impl.RagInferenceServiceImpl     : 调用推理服务，查询: 你好
2025-12-31T22:18:48.742+08:00 DEBUG 13324 --- [xx-rag] [http-nio-8081-exec-4] o.s.w.r.f.client.ExchangeFunctions       : [c6670e] HTTP POST https://api.deepseek.com/v1/chat/completions
2025-12-31T22:18:49.323+08:00 DEBUG 13324 --- [xx-rag] [reactor-http-nio-2] o.s.w.r.f.client.ExchangeFunctions       : [c6670e] [758c6009-1] Response 200 OK
2025-12-31T22:18:54.284+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.i.service.impl.InferenceServiceImpl  : Token usage - prompt: 837, completion: 111, total: 948
2025-12-31T22:18:54.285+08:00  INFO 13324 --- [xx-rag] [http-nio-8081-exec-4] y.x.a.r.impl.RagInferenceServiceImpl     : 推理服务调用完成，查询: 你好
2025-12-31T22:47:04.648+08:00  INFO 13324 --- [xx-rag] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31T22:47:05.381+08:00  INFO 13324 --- [xx-rag] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2025-12-31T22:47:07.459+08:00  INFO 13324 --- [xx-rag] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-31T22:47:07.462+08:00  INFO 13324 --- [xx-rag] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-31T22:57:08.407+08:00  INFO 32724 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Starting XxRagApplication using Java 17.0.17 with PID 32724 (C:\Users\11695\Desktop\xx-rag\target\classes started by 11695 in C:\Users\11695\Desktop\xx-rag)
2025-12-31T22:57:08.409+08:00  INFO 32724 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : The following 1 profile is active: "local"
2025-12-31T22:57:09.465+08:00  INFO 32724 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:57:09.590+08:00  INFO 32724 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-12-31T22:57:09.596+08:00  INFO 32724 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-12-31T22:57:09.657+08:00  INFO 32724 --- [xx-rag] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 1 Elasticsearch repository interface.
2025-12-31T22:57:10.154+08:00  INFO 32724 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8081 (http)
2025-12-31T22:57:10.169+08:00  INFO 32724 --- [xx-rag] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-31T22:57:10.169+08:00  INFO 32724 --- [xx-rag] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2025-12-31T22:57:10.227+08:00  INFO 32724 --- [xx-rag] [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1763 ms
2025-12-31T22:57:10.302+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/vnd.openxmlformats-officedocument.wordprocessingml.document -> DocxParser
2025-12-31T22:57:10.304+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 1
2025-12-31T22:57:10.304+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/markdown -> MarkdownParser
2025-12-31T22:57:10.304+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/x-markdown -> MarkdownParser
2025-12-31T22:57:10.305+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 3
2025-12-31T22:57:10.305+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: application/pdf -> PdfParser
2025-12-31T22:57:10.305+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 4
2025-12-31T22:57:10.305+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 注册解析器: text/plain -> TxtParser
2025-12-31T22:57:10.305+08:00  INFO 32724 --- [xx-rag] [main] y.x.i.d.parser.DocumentParserRegistry    : [ParserRegistry] 共加载解析器数量: 5
2025-12-31T22:57:11.367+08:00  INFO 32724 --- [xx-rag] [main] o.s.b.w.a.WelcomePageHandlerMapping      : Adding welcome page: class path resource [static/index.html]
2025-12-31T22:57:11.633+08:00  INFO 32724 --- [xx-rag] [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8081 (http) with context path '/'
2025-12-31T22:57:11.638+08:00  INFO 32724 --- [xx-rag] [main] o.s.s.config.TaskSchedulerRouter         : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2025-12-31T22:57:11.642+08:00  INFO 32724 --- [xx-rag] [main] yuuine.xxrag.XxRagApplication            : Started XxRagApplication in 3.73 seconds (process running for 4.394)
2025-12-31T22:57:13.134+08:00  INFO 32724 --- [xx-rag] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31T22:57:13.135+08:00  INFO 32724 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-31T22:57:13.136+08:00  INFO 32724 --- [xx-rag] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-31T22:57:15.977+08:00  INFO 32724 --- [xx-rag] [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-31T22:57:16.134+08:00  INFO 32724 --- [xx-rag] [http-nio-8081-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@476a524
2025-12-31T22:57:16.136+08:00  INFO 32724 --- [xx-rag] [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-31T22:57:16.198+08:00  INFO 32724 --- [xx-rag] [http-nio-8081-exec-3] y.x.app.docService.impl.DocServiceImpl   : 获取文档列表成功，共计 4 份
